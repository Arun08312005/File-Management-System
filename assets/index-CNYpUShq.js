import{r as gc,a as vc,g as vi,b as yc}from"./react-B1sUnLqs.js";function wc(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var oo={exports:{}},Gr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya;function ap(){if(ya)return Gr;ya=1;var t=gc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,l,c){var u,h={},m=null,p=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(h[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)h[u]===void 0&&(h[u]=l[u]);return{$$typeof:e,type:a,key:m,ref:p,props:h,_owner:s.current}}return Gr.Fragment=r,Gr.jsx=i,Gr.jsxs=i,Gr}var wa;function lp(){return wa||(wa=1,oo.exports=ap()),oo.exports}var d=lp(),An={},ba;function cp(){if(ba)return An;ba=1;var t=vc();return An.createRoot=t.createRoot,An.hydrateRoot=t.hydrateRoot,An}var up=cp(),f=gc();const O=vi(f),yi=wc({__proto__:null,default:O},[f]),dp=1,hp=1e6;let io=0;function fp(){return io=(io+1)%Number.MAX_SAFE_INTEGER,io.toString()}const ao=new Map,xa=t=>{if(ao.has(t))return;const e=setTimeout(()=>{ao.delete(t),tn({type:"REMOVE_TOAST",toastId:t})},hp);ao.set(t,e)},pp=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,dp)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?xa(r):t.toasts.forEach(n=>{xa(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},rs=[];let ns={toasts:[]};function tn(t){ns=pp(ns,t),rs.forEach(e=>{e(ns)})}function mp({...t}){const e=fp(),r=s=>tn({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>tn({type:"DISMISS_TOAST",toastId:e});return tn({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function xn(){const[t,e]=f.useState(ns);return f.useEffect(()=>(rs.push(e),()=>{const r=rs.indexOf(e);r>-1&&rs.splice(r,1)}),[t]),{...t,toast:mp,dismiss:r=>tn({type:"DISMISS_TOAST",toastId:r})}}var Ts=vc();const bc=vi(Ts);function F(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t?.(s),r===!1||!s.defaultPrevented)return e?.(s)}}function _a(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rs(...t){return e=>{let r=!1;const n=t.map(s=>{const o=_a(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():_a(t[s],null)}}}}function we(...t){return f.useCallback(Rs(...t),t)}function gp(t,e){const r=f.createContext(e),n=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:i})};n.displayName=t+"Provider";function s(o){const i=f.useContext(r);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function ht(t,e=[]){let r=[];function n(o,i){const a=f.createContext(i),l=r.length;r=[...r,i];const c=h=>{const{scope:m,children:p,...y}=h,g=m?.[t]?.[l]||a,v=f.useMemo(()=>y,Object.values(y));return d.jsx(g.Provider,{value:v,children:p})};c.displayName=o+"Provider";function u(h,m){const p=m?.[t]?.[l]||a,y=f.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=r.map(i=>f.createContext(i));return function(a){const l=a?.[t]||o;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,vp(s,...e)]}function vp(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return r.scopeName=e.scopeName,r}function Pr(t){const e=wp(t),r=f.forwardRef((n,s)=>{const{children:o,...i}=n,a=f.Children.toArray(o),l=a.find(xp);if(l){const c=l.props.children,u=a.map(h=>h===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:h);return d.jsx(e,{...i,ref:s,children:f.isValidElement(c)?f.cloneElement(c,void 0,u):null})}return d.jsx(e,{...i,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var yp=Pr("Slot");function wp(t){const e=f.forwardRef((r,n)=>{const{children:s,...o}=r;if(f.isValidElement(s)){const i=Ep(s),a=_p(o,s.props);return s.type!==f.Fragment&&(a.ref=n?Rs(n,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xc=Symbol("radix.slottable");function bp(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=xc,e}function xp(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xc}function _p(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function Ep(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function wi(t){const e=t+"CollectionProvider",[r,n]=ht(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:w}=g,x=O.useRef(null),b=O.useRef(new Map).current;return d.jsx(s,{scope:v,itemMap:b,collectionRef:x,children:w})};i.displayName=e;const a=t+"CollectionSlot",l=Pr(a),c=O.forwardRef((g,v)=>{const{scope:w,children:x}=g,b=o(a,w),_=we(v,b.collectionRef);return d.jsx(l,{ref:_,children:x})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=Pr(u),p=O.forwardRef((g,v)=>{const{scope:w,children:x,...b}=g,_=O.useRef(null),E=we(v,_),S=o(u,w);return O.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),d.jsx(m,{[h]:"",ref:E,children:x})});p.displayName=u;function y(g){const v=o(t+"CollectionConsumer",g);return O.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((S,k)=>b.indexOf(S.ref.current)-b.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},y,n]}var Sp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=Sp.reduce((t,e)=>{const r=Pr(`Primitive.${e}`),n=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bi(t,e){t&&Ts.flushSync(()=>t.dispatchEvent(e))}function Le(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>e.current?.(...r),[])}function Cp(t,e=globalThis?.document){const r=Le(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var kp="DismissableLayer",No="dismissableLayer.update",Tp="dismissableLayer.pointerDownOutside",Rp="dismissableLayer.focusOutside",Ea,_c=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_n=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=f.useContext(_c),[u,h]=f.useState(null),m=u?.ownerDocument??globalThis?.document,[,p]=f.useState({}),y=we(e,k=>h(k)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),x=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,E=Op(k=>{const P=k.target,A=[...c.branches].some(W=>W.contains(P));!_||A||(s?.(k),i?.(k),k.defaultPrevented||a?.())},m),S=Pp(k=>{const P=k.target;[...c.branches].some(W=>W.contains(P))||(o?.(k),i?.(k),k.defaultPrevented||a?.())},m);return Cp(k=>{x===c.layers.size-1&&(n?.(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},m),f.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ea=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Sa(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ea)}},[u,m,r,c]),f.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Sa())},[u,c]),f.useEffect(()=>{const k=()=>p({});return document.addEventListener(No,k),()=>document.removeEventListener(No,k)},[]),d.jsx(oe.div,{...l,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:F(t.onFocusCapture,S.onFocusCapture),onBlurCapture:F(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:F(t.onPointerDownCapture,E.onPointerDownCapture)})});_n.displayName=kp;var jp="DismissableLayerBranch",Ec=f.forwardRef((t,e)=>{const r=f.useContext(_c),n=f.useRef(null),s=we(e,n);return f.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),d.jsx(oe.div,{...t,ref:s})});Ec.displayName=jp;function Op(t,e=globalThis?.document){const r=Le(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){Sc(Tp,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Pp(t,e=globalThis?.document){const r=Le(t),n=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!n.current&&Sc(Rp,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Sa(){const t=new CustomEvent(No);document.dispatchEvent(t)}function Sc(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?bi(s,o):s.dispatchEvent(o)}var Ap=_n,Np=Ec,wt=globalThis?.document?f.useLayoutEffect:()=>{},Ip="Portal",js=f.forwardRef((t,e)=>{const{container:r,...n}=t,[s,o]=f.useState(!1);wt(()=>o(!0),[]);const i=r||s&&globalThis?.document?.body;return i?bc.createPortal(d.jsx(oe.div,{...n,ref:e}),i):null});js.displayName=Ip;function Dp(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var st=t=>{const{present:e,children:r}=t,n=Mp(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=we(n.ref,$p(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};st.displayName="Presence";function Mp(t){const[e,r]=f.useState(),n=f.useRef(null),s=f.useRef(t),o=f.useRef("none"),i=t?"mounted":"unmounted",[a,l]=Dp(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Nn(n.current);o.current=a==="mounted"?c:"none"},[a]),wt(()=>{const c=n.current,u=s.current;if(u!==t){const m=o.current,p=Nn(c);t?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=Nn(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=p=>{p.target===e&&(o.current=Nn(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Nn(t){return t?.animationName||"none"}function $p(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Lp=yi[" useInsertionEffect ".trim().toString()]||wt;function En({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,i]=Fp({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const u=f.useRef(t!==void 0);f.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=f.useCallback(u=>{if(a){const h=Up(u)?u(t):u;h!==t&&i.current?.(h)}else o(u)},[a,t,o,i]);return[l,c]}function Fp({defaultProp:t,onChange:e}){const[r,n]=f.useState(t),s=f.useRef(r),o=f.useRef(e);return Lp(()=>{o.current=e},[e]),f.useEffect(()=>{s.current!==r&&(o.current?.(r),s.current=r)},[r,s]),[r,n,o]}function Up(t){return typeof t=="function"}var Bp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vp="VisuallyHidden",Os=f.forwardRef((t,e)=>d.jsx(oe.span,{...t,ref:e,style:{...Bp,...t.style}}));Os.displayName=Vp;var qp=Os,xi="ToastProvider",[_i,Wp,zp]=wi("Toast"),[Cc]=ht("Toast",[zp]),[Kp,Ps]=Cc(xi),kc=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=f.useState(null),[c,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xi}\`. Expected non-empty \`string\`.`),d.jsx(_i.Provider,{scope:e,children:d.jsx(Kp,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};kc.displayName=xi;var Tc="ToastViewport",Hp=["F8"],Io="toast.viewportPause",Do="toast.viewportResume",Rc=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Hp,label:s="Notifications ({hotkey})",...o}=t,i=Ps(Tc,r),a=Wp(r),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=we(e,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const v=w=>{n.length!==0&&n.every(b=>w[b]||w.code===b)&&h.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),f.useEffect(()=>{const v=l.current,w=h.current;if(y&&v&&w){const x=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Io);w.dispatchEvent(S),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Do);w.dispatchEvent(S),i.isClosePausedRef.current=!1}},_=S=>{!v.contains(S.relatedTarget)&&b()},E=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:v})=>{const x=a().map(b=>{const _=b.ref.current,E=[_,...im(_)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?x.reverse():x).flat()},[a]);return f.useEffect(()=>{const v=h.current;if(v){const w=x=>{const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const E=document.activeElement,S=x.shiftKey;if(x.target===v&&S){c.current?.focus();return}const A=g({tabbingDirection:S?"backwards":"forwards"}),W=A.findIndex(U=>U===E);lo(A.slice(W+1))?x.preventDefault():S?c.current?.focus():u.current?.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[a,g]),d.jsxs(Np,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&d.jsx(Mo,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});lo(v)}}),d.jsx(_i.Slot,{scope:r,children:d.jsx(oe.ol,{tabIndex:-1,...o,ref:m})}),y&&d.jsx(Mo,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});lo(v)}})]})});Rc.displayName=Tc;var jc="ToastFocusProxy",Mo=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Ps(jc,r);return d.jsx(Os,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{const a=i.relatedTarget;!o.viewport?.contains(a)&&n()}})});Mo.displayName=jc;var Sn="Toast",Gp="toast.swipeStart",Zp="toast.swipeMove",Jp="toast.swipeCancel",Yp="toast.swipeEnd",Oc=f.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=En({prop:n,defaultProp:s??!0,onChange:o,caller:Sn});return d.jsx(st,{present:r||a,children:d.jsx(em,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Le(t.onPause),onResume:Le(t.onResume),onSwipeStart:F(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:F(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:F(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:F(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Oc.displayName=Sn;var[Qp,Xp]=Cc(Sn,{onClose(){}}),em=f.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...y}=t,g=Ps(Sn,r),[v,w]=f.useState(null),x=we(e,j=>w(j)),b=f.useRef(null),_=f.useRef(null),E=s||g.duration,S=f.useRef(0),k=f.useRef(E),P=f.useRef(0),{onToastAdd:A,onToastRemove:W}=g,U=Le(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),i()}),N=f.useCallback(j=>{!j||j===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(U,j))},[U]);f.useEffect(()=>{const j=g.viewport;if(j){const H=()=>{N(k.current),c?.()},B=()=>{const Y=new Date().getTime()-S.current;k.current=k.current-Y,window.clearTimeout(P.current),l?.()};return j.addEventListener(Io,B),j.addEventListener(Do,H),()=>{j.removeEventListener(Io,B),j.removeEventListener(Do,H)}}},[g.viewport,E,l,c,N]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&N(E)},[o,E,g.isClosePausedRef,N]),f.useEffect(()=>(A(),()=>W()),[A,W]);const z=f.useMemo(()=>v?$c(v):null,[v]);return g.viewport?d.jsxs(d.Fragment,{children:[z&&d.jsx(tm,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),d.jsx(Qp,{scope:r,onClose:U,children:Ts.createPortal(d.jsx(_i.ItemSlot,{scope:r,children:d.jsx(Ap,{asChild:!0,onEscapeKeyDown:F(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:F(t.onKeyDown,j=>{j.key==="Escape"&&(a?.(j.nativeEvent),j.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:F(t.onPointerDown,j=>{j.button===0&&(b.current={x:j.clientX,y:j.clientY})}),onPointerMove:F(t.onPointerMove,j=>{if(!b.current)return;const H=j.clientX-b.current.x,B=j.clientY-b.current.y,Y=!!_.current,$=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,te=$?T(0,H):0,ce=$?0:T(0,B),X=j.pointerType==="touch"?10:2,re={x:te,y:ce},se={originalEvent:j,delta:re};Y?(_.current=re,In(Zp,h,se,{discrete:!1})):Ca(re,g.swipeDirection,X)?(_.current=re,In(Gp,u,se,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(H)>X||Math.abs(B)>X)&&(b.current=null)}),onPointerUp:F(t.onPointerUp,j=>{const H=_.current,B=j.target;if(B.hasPointerCapture(j.pointerId)&&B.releasePointerCapture(j.pointerId),_.current=null,b.current=null,H){const Y=j.currentTarget,$={originalEvent:j,delta:H};Ca(H,g.swipeDirection,g.swipeThreshold)?In(Yp,p,$,{discrete:!0}):In(Jp,m,$,{discrete:!0}),Y.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),tm=t=>{const{__scopeToast:e,children:r,...n}=t,s=Ps(Sn,e),[o,i]=f.useState(!1),[a,l]=f.useState(!1);return sm(()=>i(!0)),f.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(js,{asChild:!0,children:d.jsx(Os,{...n,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},rm="ToastTitle",Pc=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(oe.div,{...n,ref:e})});Pc.displayName=rm;var nm="ToastDescription",Ac=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(oe.div,{...n,ref:e})});Ac.displayName=nm;var Nc="ToastAction",Ic=f.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(Mc,{altText:r,asChild:!0,children:d.jsx(Ei,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nc}\`. Expected non-empty \`string\`.`),null)});Ic.displayName=Nc;var Dc="ToastClose",Ei=f.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Xp(Dc,r);return d.jsx(Mc,{asChild:!0,children:d.jsx(oe.button,{type:"button",...n,ref:e,onClick:F(t.onClick,s.onClose)})})});Ei.displayName=Dc;var Mc=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return d.jsx(oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function $c(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),om(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...$c(n))}}),e}function In(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?bi(s,o):s.dispatchEvent(o)}var Ca=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function sm(t=()=>{}){const e=Le(t);wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function om(t){return t.nodeType===t.ELEMENT_NODE}function im(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function lo(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var am=kc,Lc=Rc,Fc=Oc,Uc=Pc,Bc=Ac,Vc=Ic,qc=Ei;function Wc(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Wc(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function zc(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Wc(t))&&(n&&(n+=" "),n+=e);return n}const ka=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ta=zc,As=(t,e)=>r=>{var n;if(e?.variants==null)return Ta(t,r?.class,r?.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const u=r?.[c],h=o?.[c];if(u===null)return null;const m=ka(u)||ka(h);return s[c][m]}),a=r&&Object.entries(r).reduce((c,u)=>{let[h,m]=u;return m===void 0||(c[h]=m),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...c,h,m]:c},[]);return Ta(t,i,l,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kc=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...cm,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Kc("lucide",s),...a},[...i.map(([c,u])=>f.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(t,e)=>{const r=f.forwardRef(({className:n,...s},o)=>f.createElement(um,{ref:o,iconNode:e,className:Kc(`lucide-${lm(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=he("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=he("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=he("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=he("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Si="-",Sm=t=>{const e=km(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const a=i.split(Si);return a[0]===""&&a.length!==1&&a.shift(),Jc(a,e)||Cm(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},Jc=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Jc(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Si);return e.validators.find(({validator:i})=>i(o))?.classGroupId},Da=/^\[(.+)\]$/,Cm=t=>{if(Da.test(t)){const e=Da.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},km=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Rm(Object.entries(t.classGroups),r).forEach(([o,i])=>{Lo(i,n,o,e)}),n},Lo=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Ma(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(Tm(s)){Lo(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Lo(i,Ma(e,o),r,n)})})},Ma=(t,e)=>{let r=t;return e.split(Si).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Tm=t=>t.isThemeGetter,Rm=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[r,s]}):t,jm=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Yc="!",Om=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let w=a[v];if(c===0){if(w===s&&(n||a.slice(v,v+o)===e)){l.push(a.slice(u,v)),u=v+o;continue}if(w==="/"){h=v;continue}}w==="["?c++:w==="]"&&c--}const m=l.length===0?a:a.substring(u),p=m.startsWith(Yc),y=p?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},Pm=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Am=t=>({cache:jm(t.cacheSize),parseClassName:Om(t),...Sm(t)}),Nm=/\s+/,Im=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(Nm);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(c);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=n(m),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const v=Pm(u).join(":"),w=h?v+Yc:v,x=w+g;if(o.includes(x))continue;o.push(x);const b=s(g,y);for(let _=0;_<b.length;++_){const E=b[_];o.push(w+E)}a=c+(a.length>0?" "+a:a)}return a};function Dm(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Qc(e))&&(n&&(n+=" "),n+=r);return n}const Qc=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Qc(t[n]))&&(r&&(r+=" "),r+=e);return r};function Mm(t,...e){let r,n,s,o=i;function i(l){const c=e.reduce((u,h)=>h(u),t());return r=Am(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=Im(l,r);return s(l,u),u}return function(){return o(Dm.apply(null,arguments))}}const pe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Xc=/^\[(?:([a-z-]+):)?(.+)\]$/i,$m=/^\d+\/\d+$/,Lm=new Set(["px","full","screen"]),Fm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Um=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gt=t=>Tr(t)||Lm.has(t)||$m.test(t),kt=t=>Ur(t,"length",Ym),Tr=t=>!!t&&!Number.isNaN(Number(t)),co=t=>Ur(t,"number",Tr),Zr=t=>!!t&&Number.isInteger(Number(t)),Wm=t=>t.endsWith("%")&&Tr(t.slice(0,-1)),ee=t=>Xc.test(t),Tt=t=>Fm.test(t),zm=new Set(["length","size","percentage"]),Km=t=>Ur(t,zm,eu),Hm=t=>Ur(t,"position",eu),Gm=new Set(["image","url"]),Zm=t=>Ur(t,Gm,Xm),Jm=t=>Ur(t,"",Qm),Jr=()=>!0,Ur=(t,e,r)=>{const n=Xc.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Ym=t=>Um.test(t)&&!Bm.test(t),eu=()=>!1,Qm=t=>Vm.test(t),Xm=t=>qm.test(t),eg=()=>{const t=pe("colors"),e=pe("spacing"),r=pe("blur"),n=pe("brightness"),s=pe("borderColor"),o=pe("borderRadius"),i=pe("borderSpacing"),a=pe("borderWidth"),l=pe("contrast"),c=pe("grayscale"),u=pe("hueRotate"),h=pe("invert"),m=pe("gap"),p=pe("gradientColorStops"),y=pe("gradientColorStopPositions"),g=pe("inset"),v=pe("margin"),w=pe("opacity"),x=pe("padding"),b=pe("saturate"),_=pe("scale"),E=pe("sepia"),S=pe("skew"),k=pe("space"),P=pe("translate"),A=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",ee,e],N=()=>[ee,e],z=()=>["",gt,kt],j=()=>["auto",Tr,ee],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ee],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Tr,ee];return{cacheSize:500,separator:":",theme:{colors:[Jr],spacing:[gt,kt],blur:["none","",Tt,ee],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Tt,ee],borderSpacing:N(),borderWidth:z(),contrast:ce(),grayscale:T(),hueRotate:ce(),invert:T(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Wm,kt],inset:U(),margin:U(),opacity:ce(),padding:N(),saturate:ce(),scale:ce(),sepia:T(),skew:ce(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[Tt]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ee]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zr,ee]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Zr,ee]}],"grid-cols":[{"grid-cols":[Jr]}],"col-start-end":[{col:["auto",{span:["full",Zr,ee]},ee]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Jr]}],"row-start-end":[{row:["auto",{span:[Zr,ee]},ee]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[Tt]},Tt]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Tt,kt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",co]}],"font-family":[{font:[Jr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Tr,co]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,kt]}],"underline-offset":[{"underline-offset":["auto",gt,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Hm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Km]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zm]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[gt,ee]}],"outline-w":[{outline:[gt,kt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gt,kt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Tt,Jm]}],"shadow-color":[{shadow:[Jr]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tt,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Zr,ee]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gt,kt,co]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tg=Mm(eg);function ie(...t){return tg(zc(t))}const rg=am,tu=f.forwardRef(({className:t,...e},r)=>d.jsx(Lc,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tu.displayName=Lc.displayName;const ng=As("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ru=f.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(Fc,{ref:n,className:ie(ng({variant:e}),t),...r}));ru.displayName=Fc.displayName;const sg=f.forwardRef(({className:t,...e},r)=>d.jsx(Vc,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));sg.displayName=Vc.displayName;const nu=f.forwardRef(({className:t,...e},r)=>d.jsx(qc,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(ls,{className:"h-4 w-4"})}));nu.displayName=qc.displayName;const su=f.forwardRef(({className:t,...e},r)=>d.jsx(Uc,{ref:r,className:ie("text-sm font-semibold",t),...e}));su.displayName=Uc.displayName;const ou=f.forwardRef(({className:t,...e},r)=>d.jsx(Bc,{ref:r,className:ie("text-sm opacity-90",t),...e}));ou.displayName=Bc.displayName;function og(){const{toasts:t}=xn();return d.jsxs(rg,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return d.jsxs(ru,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(su,{children:r}),n&&d.jsx(ou,{children:n})]}),s,d.jsx(nu,{})]},e)}),d.jsx(tu,{})]})}var $a=["light","dark"],ig="(prefers-color-scheme: dark)",ag=f.createContext(void 0),lg={setTheme:t=>{},themes:[]},cg=()=>{var t;return(t=f.useContext(ag))!=null?t:lg};f.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?$a.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let w=i?i[y]:y,x=g?y+"|| ''":`'${w}'`,b="";return s&&v&&!g&&$a.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},p=t?`!function(){${u}${m(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${ig}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${c?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var ug=t=>{switch(t){case"success":return fg;case"info":return mg;case"warning":return pg;case"error":return gg;default:return null}},dg=Array(12).fill(0),hg=({visible:t,className:e})=>O.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},O.createElement("div",{className:"sonner-spinner"},dg.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fg=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pg=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mg=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gg=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vg=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yg=()=>{let[t,e]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Fo=1,wg=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Fo++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],O.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(xg(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=e?.id||Fo++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Oe=new wg,bg=(t,e)=>{let r=e?.id||Fo++;return Oe.addToast({title:t,...e,id:r}),r},xg=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_g=bg,Eg=()=>Oe.toasts,Sg=()=>Oe.getActiveToasts();Object.assign(_g,{success:Oe.success,info:Oe.info,warning:Oe.warning,error:Oe.error,custom:Oe.custom,message:Oe.message,promise:Oe.promise,dismiss:Oe.dismiss,loading:Oe.loading},{getHistory:Eg,getToasts:Sg});function Cg(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Cg(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ln(t){return t.label!==void 0}var kg=3,Tg="32px",Rg="16px",La=4e3,jg=356,Og=14,Pg=20,Ag=200;function Je(...t){return t.filter(Boolean).join(" ")}function Ng(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Ig=t=>{var e,r,n,s,o,i,a,l,c,u,h;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:w,heights:x,index:b,toasts:_,expanded:E,removeToast:S,defaultRichColors:k,closeButton:P,style:A,cancelButtonStyle:W,actionButtonStyle:U,className:N="",descriptionClassName:z="",duration:j,position:H,gap:B,loadingIcon:Y,expandByDefault:$,classNames:T,icons:te,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:X}=t,[re,se]=O.useState(null),[ve,Ce]=O.useState(null),[K,Ue]=O.useState(!1),[pt,Ke]=O.useState(!1),[mt,_t]=O.useState(!1),[it,On]=O.useState(!1),[cr,Hr]=O.useState(!1),[C,V]=O.useState(0),[Be,ke]=O.useState(0),ye=O.useRef(p.duration||j||La),ur=O.useRef(null),Pe=O.useRef(null),Qf=b===0,Xf=b+1<=w,Ve=p.type,dr=p.dismissible!==!1,ep=p.className||"",tp=p.descriptionClassName||"",Pn=O.useMemo(()=>x.findIndex(Q=>Q.toastId===p.id)||0,[x,p.id]),rp=O.useMemo(()=>{var Q;return(Q=p.closeButton)!=null?Q:P},[p.closeButton,P]),pa=O.useMemo(()=>p.duration||j||La,[p.duration,j]),no=O.useRef(0),hr=O.useRef(0),ma=O.useRef(0),fr=O.useRef(null),[np,sp]=H.split("-"),ga=O.useMemo(()=>x.reduce((Q,de,me)=>me>=Pn?Q:Q+de.height,0),[x,Pn]),va=yg(),op=p.invert||m,so=Ve==="loading";hr.current=O.useMemo(()=>Pn*B+ga,[Pn,ga]),O.useEffect(()=>{ye.current=pa},[pa]),O.useEffect(()=>{Ue(!0)},[]),O.useEffect(()=>{let Q=Pe.current;if(Q){let de=Q.getBoundingClientRect().height;return ke(de),v(me=>[{toastId:p.id,height:de,position:p.position},...me]),()=>v(me=>me.filter(He=>He.toastId!==p.id))}},[v,p.id]),O.useLayoutEffect(()=>{if(!K)return;let Q=Pe.current,de=Q.style.height;Q.style.height="auto";let me=Q.getBoundingClientRect().height;Q.style.height=de,ke(me),v(He=>He.find(Ge=>Ge.toastId===p.id)?He.map(Ge=>Ge.toastId===p.id?{...Ge,height:me}:Ge):[{toastId:p.id,height:me,position:p.position},...He])},[K,p.title,p.description,v,p.id]);let Et=O.useCallback(()=>{Ke(!0),V(hr.current),v(Q=>Q.filter(de=>de.toastId!==p.id)),setTimeout(()=>{S(p)},Ag)},[p,S,v,hr]);O.useEffect(()=>{if(p.promise&&Ve==="loading"||p.duration===1/0||p.type==="loading")return;let Q;return E||g||X&&va?(()=>{if(ma.current<no.current){let de=new Date().getTime()-no.current;ye.current=ye.current-de}ma.current=new Date().getTime()})():ye.current!==1/0&&(no.current=new Date().getTime(),Q=setTimeout(()=>{var de;(de=p.onAutoClose)==null||de.call(p,p),Et()},ye.current)),()=>clearTimeout(Q)},[E,g,p,Ve,X,va,Et]),O.useEffect(()=>{p.delete&&Et()},[Et,p.delete]);function ip(){var Q,de,me;return te!=null&&te.loading?O.createElement("div",{className:Je(T?.loader,(Q=p?.classNames)==null?void 0:Q.loader,"sonner-loader"),"data-visible":Ve==="loading"},te.loading):Y?O.createElement("div",{className:Je(T?.loader,(de=p?.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Ve==="loading"},Y):O.createElement(hg,{className:Je(T?.loader,(me=p?.classNames)==null?void 0:me.loader),visible:Ve==="loading"})}return O.createElement("li",{tabIndex:0,ref:Pe,className:Je(N,ep,T?.toast,(e=p?.classNames)==null?void 0:e.toast,T?.default,T?.[Ve],(r=p?.classNames)==null?void 0:r[Ve]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":cr,"data-removed":pt,"data-visible":Xf,"data-y-position":np,"data-x-position":sp,"data-index":b,"data-front":Qf,"data-swiping":mt,"data-dismissible":dr,"data-type":Ve,"data-invert":op,"data-swipe-out":it,"data-swipe-direction":ve,"data-expanded":!!(E||$&&K),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${pt?C:hr.current}px`,"--initial-height":$?"auto":`${Be}px`,...A,...p.style},onDragEnd:()=>{_t(!1),se(null),fr.current=null},onPointerDown:Q=>{so||!dr||(ur.current=new Date,V(hr.current),Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(_t(!0),fr.current={x:Q.clientX,y:Q.clientY}))},onPointerUp:()=>{var Q,de,me,He;if(it||!dr)return;fr.current=null;let Ge=Number(((Q=Pe.current)==null?void 0:Q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),St=Number(((de=Pe.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((me=ur.current)==null?void 0:me.getTime()),Ze=re==="x"?Ge:St,Ct=Math.abs(Ze)/Wt;if(Math.abs(Ze)>=Pg||Ct>.11){V(hr.current),(He=p.onDismiss)==null||He.call(p,p),Ce(re==="x"?Ge>0?"right":"left":St>0?"down":"up"),Et(),On(!0),Hr(!1);return}_t(!1),se(null)},onPointerMove:Q=>{var de,me,He,Ge;if(!fr.current||!dr||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;let St=Q.clientY-fr.current.y,Wt=Q.clientX-fr.current.x,Ze=(me=t.swipeDirections)!=null?me:Ng(H);!re&&(Math.abs(Wt)>1||Math.abs(St)>1)&&se(Math.abs(Wt)>Math.abs(St)?"x":"y");let Ct={x:0,y:0};re==="y"?(Ze.includes("top")||Ze.includes("bottom"))&&(Ze.includes("top")&&St<0||Ze.includes("bottom")&&St>0)&&(Ct.y=St):re==="x"&&(Ze.includes("left")||Ze.includes("right"))&&(Ze.includes("left")&&Wt<0||Ze.includes("right")&&Wt>0)&&(Ct.x=Wt),(Math.abs(Ct.x)>0||Math.abs(Ct.y)>0)&&Hr(!0),(He=Pe.current)==null||He.style.setProperty("--swipe-amount-x",`${Ct.x}px`),(Ge=Pe.current)==null||Ge.style.setProperty("--swipe-amount-y",`${Ct.y}px`)}},rp&&!p.jsx?O.createElement("button",{"aria-label":ce,"data-disabled":so,"data-close-button":!0,onClick:so||!dr?()=>{}:()=>{var Q;Et(),(Q=p.onDismiss)==null||Q.call(p,p)},className:Je(T?.closeButton,(s=p?.classNames)==null?void 0:s.closeButton)},(o=te?.close)!=null?o:vg):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:O.createElement(O.Fragment,null,Ve||p.icon||p.promise?O.createElement("div",{"data-icon":"",className:Je(T?.icon,(i=p?.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ip():null,p.type!=="loading"?p.icon||te?.[Ve]||ug(Ve):null):null,O.createElement("div",{"data-content":"",className:Je(T?.content,(a=p?.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:Je(T?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?O.createElement("div",{"data-description":"",className:Je(z,tp,T?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&Ln(p.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||W,onClick:Q=>{var de,me;Ln(p.cancel)&&dr&&((me=(de=p.cancel).onClick)==null||me.call(de,Q),Et())},className:Je(T?.cancelButton,(u=p?.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&Ln(p.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||U,onClick:Q=>{var de,me;Ln(p.action)&&((me=(de=p.action).onClick)==null||me.call(de,Q),!Q.defaultPrevented&&Et())},className:Je(T?.actionButton,(h=p?.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Fa(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Dg(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?Rg:Tg;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var Mg=f.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:y=kg,toastOptions:g,dir:v=Fa(),gap:w=Og,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E}=t,[S,k]=O.useState([]),P=O.useMemo(()=>Array.from(new Set([n].concat(S.filter(X=>X.position).map(X=>X.position)))),[S,n]),[A,W]=O.useState([]),[U,N]=O.useState(!1),[z,j]=O.useState(!1),[H,B]=O.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=O.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=O.useRef(null),te=O.useRef(!1),ce=O.useCallback(X=>{k(re=>{var se;return(se=re.find(ve=>ve.id===X.id))!=null&&se.delete||Oe.dismiss(X.id),re.filter(({id:ve})=>ve!==X.id)})},[]);return O.useEffect(()=>Oe.subscribe(X=>{if(X.dismiss){k(re=>re.map(se=>se.id===X.id?{...se,delete:!0}:se));return}setTimeout(()=>{bc.flushSync(()=>{k(re=>{let se=re.findIndex(ve=>ve.id===X.id);return se!==-1?[...re.slice(0,se),{...re[se],...X},...re.slice(se+1)]:[X,...re]})})})}),[]),O.useEffect(()=>{if(u!=="system"){B(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:re})=>{B(re?"dark":"light")})}catch{X.addListener(({matches:se})=>{try{B(se?"dark":"light")}catch(ve){console.error(ve)}})}},[u]),O.useEffect(()=>{S.length<=1&&N(!1)},[S]),O.useEffect(()=>{let X=re=>{var se,ve;s.every(Ce=>re[Ce]||re.code===Ce)&&(N(!0),(se=Y.current)==null||se.focus()),re.code==="Escape"&&(document.activeElement===Y.current||(ve=Y.current)!=null&&ve.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),O.useEffect(()=>{if(Y.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,te.current=!1)}},[Y.current]),O.createElement("section",{ref:e,"aria-label":`${_} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((X,re)=>{var se;let[ve,Ce]=X.split("-");return S.length?O.createElement("ol",{key:X,dir:v==="auto"?Fa():v,tabIndex:-1,ref:Y,className:a,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ve,"data-lifted":U&&S.length>1&&!o,"data-x-position":Ce,style:{"--front-toast-height":`${((se=A[0])==null?void 0:se.height)||0}px`,"--width":`${jg}px`,"--gap":`${w}px`,...p,...Dg(l,c)},onBlur:K=>{te.current&&!K.currentTarget.contains(K.relatedTarget)&&(te.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||te.current||(te.current=!0,T.current=K.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{z||N(!1)},onDragEnd:()=>N(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},S.filter(K=>!K.position&&re===0||K.position===X).map((K,Ue)=>{var pt,Ke;return O.createElement(Ig,{key:K.id,icons:b,index:Ue,toast:K,defaultRichColors:h,duration:(pt=g?.duration)!=null?pt:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Ke=g?.closeButton)!=null?Ke:i,interacting:z,position:X,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:ce,toasts:S.filter(mt=>mt.position==K.position),heights:A.filter(mt=>mt.position==K.position),setHeights:W,expandByDefault:o,gap:w,loadingIcon:x,expanded:U,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const $g=({...t})=>{const{theme:e="system"}=cg();return d.jsx(Mg,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Lg=yi[" useId ".trim().toString()]||(()=>{}),Fg=0;function tr(t){const[e,r]=f.useState(Lg());return wt(()=>{r(n=>n??String(Fg++))},[t]),e?`radix-${e}`:""}const Ug=["top","right","bottom","left"],Lt=Math.min,Ie=Math.max,cs=Math.round,Fn=Math.floor,ct=t=>({x:t,y:t}),Bg={left:"right",right:"left",bottom:"top",top:"bottom"},Vg={start:"end",end:"start"};function Uo(t,e,r){return Ie(t,Lt(e,r))}function bt(t,e){return typeof t=="function"?t(e):t}function xt(t){return t.split("-")[0]}function Br(t){return t.split("-")[1]}function Ci(t){return t==="x"?"y":"x"}function ki(t){return t==="y"?"height":"width"}const qg=new Set(["top","bottom"]);function lt(t){return qg.has(xt(t))?"y":"x"}function Ti(t){return Ci(lt(t))}function Wg(t,e,r){r===void 0&&(r=!1);const n=Br(t),s=Ti(t),o=ki(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=us(i)),[i,us(i)]}function zg(t){const e=us(t);return[Bo(t),e,Bo(e)]}function Bo(t){return t.replace(/start|end/g,e=>Vg[e])}const Ua=["left","right"],Ba=["right","left"],Kg=["top","bottom"],Hg=["bottom","top"];function Gg(t,e,r){switch(t){case"top":case"bottom":return r?e?Ba:Ua:e?Ua:Ba;case"left":case"right":return e?Kg:Hg;default:return[]}}function Zg(t,e,r,n){const s=Br(t);let o=Gg(xt(t),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Bo)))),o}function us(t){return t.replace(/left|right|bottom|top/g,e=>Bg[e])}function Jg(t){return{top:0,right:0,bottom:0,left:0,...t}}function iu(t){return typeof t!="number"?Jg(t):{top:t,right:t,bottom:t,left:t}}function ds(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Va(t,e,r){let{reference:n,floating:s}=t;const o=lt(e),i=Ti(e),a=ki(i),l=xt(e),c=o==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Br(e)){case"start":p[i]-=m*(r&&c?-1:1);break;case"end":p[i]+=m*(r&&c?-1:1);break}return p}const Yg=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=Va(c,n,l),m=n,p={},y=0;for(let g=0;g<a.length;g++){const{name:v,fn:w}=a[g],{x,y:b,data:_,reset:E}=await w({x:u,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});u=x??u,h=b??h,p={...p,[v]:{...p[v],..._}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:u,y:h}=Va(c,m,l)),g=-1)}return{x:u,y:h,placement:m,strategy:s,middlewareData:p}};async function an(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=bt(e,t),y=iu(p),v=a[m?h==="floating"?"reference":"floating":h],w=ds(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=ds(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(w.top-E.top+y.top)/_.y,bottom:(E.bottom-w.bottom+y.bottom)/_.y,left:(w.left-E.left+y.left)/_.x,right:(E.right-w.right+y.right)/_.x}}const Qg=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=bt(t,e)||{};if(c==null)return{};const h=iu(u),m={x:r,y:n},p=Ti(s),y=ki(p),g=await i.getDimensions(c),v=p==="y",w=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[p]-m[p]-o.floating[y],E=m[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=S?S[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=a.floating[b]||o.floating[y]);const P=_/2-E/2,A=k/2-g[y]/2-1,W=Lt(h[w],A),U=Lt(h[x],A),N=W,z=k-g[y]-U,j=k/2-g[y]/2+P,H=Uo(N,j,z),B=!l.arrow&&Br(s)!=null&&j!==H&&o.reference[y]/2-(j<N?W:U)-g[y]/2<0,Y=B?j<N?j-N:j-z:0;return{[p]:m[p]+Y,data:{[p]:H,centerOffset:j-H-Y,...B&&{alignmentOffset:Y}},reset:B}}}),Xg=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=bt(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=xt(s),x=lt(a),b=xt(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=m||(b||!g?[us(a)]:zg(a)),S=y!=="none";!m&&S&&E.push(...Zg(a,g,y,_));const k=[a,...E],P=await an(e,v),A=[];let W=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&A.push(P[w]),h){const j=Wg(s,i,_);A.push(P[j[0]],P[j[1]])}if(W=[...W,{placement:s,overflows:A}],!A.every(j=>j<=0)){var U,N;const j=(((U=o.flip)==null?void 0:U.index)||0)+1,H=k[j];if(H&&(!(h==="alignment"?x!==lt(H):!1)||W.every($=>$.overflows[0]>0&&lt($.placement)===x)))return{data:{index:j,overflows:W},reset:{placement:H}};let B=(N=W.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(p){case"bestFit":{var z;const Y=(z=W.filter($=>{if(S){const T=lt($.placement);return T===x||T==="y"}return!0}).map($=>[$.placement,$.overflows.filter(T=>T>0).reduce((T,te)=>T+te,0)]).sort(($,T)=>$[1]-T[1])[0])==null?void 0:z[0];Y&&(B=Y);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function qa(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Wa(t){return Ug.some(e=>t[e]>=0)}const ev=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=bt(t,e);switch(n){case"referenceHidden":{const o=await an(e,{...s,elementContext:"reference"}),i=qa(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Wa(i)}}}case"escaped":{const o=await an(e,{...s,altBoundary:!0}),i=qa(o,r.floating);return{data:{escapedOffsets:i,escaped:Wa(i)}}}default:return{}}}}},au=new Set(["left","top"]);async function tv(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=xt(r),a=Br(r),l=lt(r)==="y",c=au.has(i)?-1:1,u=o&&l?-1:1,h=bt(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*u,y:m*c}:{x:m*c,y:p*u}}const rv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await tv(e,t);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},nv=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...l}=bt(t,e),c={x:r,y:n},u=await an(e,l),h=lt(xt(s)),m=Ci(h);let p=c[m],y=c[h];if(o){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=p+u[v],b=p-u[w];p=Uo(x,p,b)}if(i){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=y+u[v],b=y-u[w];y=Uo(x,y,b)}const g=a.fn({...e,[m]:p,[h]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:o,[h]:i}}}}}},sv=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=bt(t,e),u={x:r,y:n},h=lt(s),m=Ci(h);let p=u[m],y=u[h];const g=bt(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=m==="y"?"height":"width",_=o.reference[m]-o.floating[b]+v.mainAxis,E=o.reference[m]+o.reference[b]-v.mainAxis;p<_?p=_:p>E&&(p=E)}if(c){var w,x;const b=m==="y"?"width":"height",_=au.has(xt(s)),E=o.reference[h]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[h])||0)+(_?0:v.crossAxis),S=o.reference[h]+o.reference[b]+(_?0:((x=i.offset)==null?void 0:x[h])||0)-(_?v.crossAxis:0);y<E?y=E:y>S&&(y=S)}return{[m]:p,[h]:y}}}},ov=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=bt(t,e),u=await an(e,c),h=xt(s),m=Br(s),p=lt(s)==="y",{width:y,height:g}=o.floating;let v,w;h==="top"||h==="bottom"?(v=h,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,v=m==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=y-u.left-u.right,_=Lt(g-u[v],x),E=Lt(y-u[w],b),S=!e.middlewareData.shift;let k=_,P=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!m){const W=Ie(u.left,0),U=Ie(u.right,0),N=Ie(u.top,0),z=Ie(u.bottom,0);p?P=y-2*(W!==0||U!==0?W+U:Ie(u.left,u.right)):k=g-2*(N!==0||z!==0?N+z:Ie(u.top,u.bottom))}await l({...e,availableWidth:P,availableHeight:k});const A=await i.getDimensions(a.floating);return y!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ns(){return typeof window<"u"}function Vr(t){return lu(t)?(t.nodeName||"").toLowerCase():"#document"}function $e(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ft(t){var e;return(e=(lu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lu(t){return Ns()?t instanceof Node||t instanceof $e(t).Node:!1}function tt(t){return Ns()?t instanceof Element||t instanceof $e(t).Element:!1}function dt(t){return Ns()?t instanceof HTMLElement||t instanceof $e(t).HTMLElement:!1}function za(t){return!Ns()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $e(t).ShadowRoot}const iv=new Set(["inline","contents"]);function Cn(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=rt(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!iv.has(s)}const av=new Set(["table","td","th"]);function lv(t){return av.has(Vr(t))}const cv=[":popover-open",":modal"];function Is(t){return cv.some(e=>{try{return t.matches(e)}catch{return!1}})}const uv=["transform","translate","scale","rotate","perspective"],dv=["transform","translate","scale","rotate","perspective","filter"],hv=["paint","layout","strict","content"];function Ri(t){const e=ji(),r=tt(t)?rt(t):t;return uv.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||dv.some(n=>(r.willChange||"").includes(n))||hv.some(n=>(r.contain||"").includes(n))}function fv(t){let e=Ft(t);for(;dt(e)&&!Ar(e);){if(Ri(e))return e;if(Is(e))return null;e=Ft(e)}return null}function ji(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pv=new Set(["html","body","#document"]);function Ar(t){return pv.has(Vr(t))}function rt(t){return $e(t).getComputedStyle(t)}function Ds(t){return tt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ft(t){if(Vr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||za(t)&&t.host||ft(t);return za(e)?e.host:e}function cu(t){const e=Ft(t);return Ar(e)?t.ownerDocument?t.ownerDocument.body:t.body:dt(e)&&Cn(e)?e:cu(e)}function ln(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=cu(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=$e(s);if(o){const a=Vo(i);return e.concat(i,i.visualViewport||[],Cn(s)?s:[],a&&r?ln(a):[])}return e.concat(s,ln(s,[],r))}function Vo(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uu(t){const e=rt(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=dt(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,a=cs(r)!==o||cs(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Oi(t){return tt(t)?t:t.contextElement}function Rr(t){const e=Oi(t);if(!dt(e))return ct(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=uu(e);let i=(o?cs(r.width):r.width)/n,a=(o?cs(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const mv=ct(0);function du(t){const e=$e(t);return!ji()||!e.visualViewport?mv:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gv(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==$e(t)?!1:e}function nr(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Oi(t);let i=ct(1);e&&(n?tt(n)&&(i=Rr(n)):i=Rr(t));const a=gv(o,r,n)?du(o):ct(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,h=s.height/i.y;if(o){const m=$e(o),p=n&&tt(n)?$e(n):n;let y=m,g=Vo(y);for(;g&&n&&p!==y;){const v=Rr(g),w=g.getBoundingClientRect(),x=rt(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,_=w.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=b,c+=_,y=$e(g),g=Vo(y)}}return ds({width:u,height:h,x:l,y:c})}function Pi(t,e){const r=Ds(t).scrollLeft;return e?e.left+r:nr(ft(t)).left+r}function hu(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Pi(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function vv(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",i=ft(n),a=e?Is(e.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=ct(1);const u=ct(0),h=dt(n);if((h||!h&&!o)&&((Vr(n)!=="body"||Cn(i))&&(l=Ds(n)),dt(n))){const p=nr(n);c=Rr(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=i&&!h&&!o?hu(i,l,!0):ct(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+m.x,y:r.y*c.y-l.scrollTop*c.y+u.y+m.y}}function yv(t){return Array.from(t.getClientRects())}function wv(t){const e=ft(t),r=Ds(t),n=t.ownerDocument.body,s=Ie(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ie(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Pi(t);const a=-r.scrollTop;return rt(n).direction==="rtl"&&(i+=Ie(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function bv(t,e){const r=$e(t),n=ft(t),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=ji();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const xv=new Set(["absolute","fixed"]);function _v(t,e){const r=nr(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=dt(t)?Rr(t):ct(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function Ka(t,e,r){let n;if(e==="viewport")n=bv(t,r);else if(e==="document")n=wv(ft(t));else if(tt(e))n=_v(e,r);else{const s=du(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ds(n)}function fu(t,e){const r=Ft(t);return r===e||!tt(r)||Ar(r)?!1:rt(r).position==="fixed"||fu(r,e)}function Ev(t,e){const r=e.get(t);if(r)return r;let n=ln(t,[],!1).filter(a=>tt(a)&&Vr(a)!=="body"),s=null;const o=rt(t).position==="fixed";let i=o?Ft(t):t;for(;tt(i)&&!Ar(i);){const a=rt(i),l=Ri(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&xv.has(s.position)||Cn(i)&&!l&&fu(t,i))?n=n.filter(u=>u!==i):s=a,i=Ft(i)}return e.set(t,n),n}function Sv(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const i=[...r==="clippingAncestors"?Is(e)?[]:Ev(e,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,u)=>{const h=Ka(e,u,s);return c.top=Ie(h.top,c.top),c.right=Lt(h.right,c.right),c.bottom=Lt(h.bottom,c.bottom),c.left=Ie(h.left,c.left),c},Ka(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Cv(t){const{width:e,height:r}=uu(t);return{width:e,height:r}}function kv(t,e,r){const n=dt(e),s=ft(e),o=r==="fixed",i=nr(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=ct(0);function c(){l.x=Pi(s)}if(n||!n&&!o)if((Vr(e)!=="body"||Cn(s))&&(a=Ds(e)),n){const p=nr(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();o&&!n&&s&&c();const u=s&&!n&&!o?hu(s,a):ct(0),h=i.left+a.scrollLeft-l.x-u.x,m=i.top+a.scrollTop-l.y-u.y;return{x:h,y:m,width:i.width,height:i.height}}function uo(t){return rt(t).position==="static"}function Ha(t,e){if(!dt(t)||rt(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ft(t)===r&&(r=r.ownerDocument.body),r}function pu(t,e){const r=$e(t);if(Is(t))return r;if(!dt(t)){let s=Ft(t);for(;s&&!Ar(s);){if(tt(s)&&!uo(s))return s;s=Ft(s)}return r}let n=Ha(t,e);for(;n&&lv(n)&&uo(n);)n=Ha(n,e);return n&&Ar(n)&&uo(n)&&!Ri(n)?r:n||fv(t)||r}const Tv=async function(t){const e=this.getOffsetParent||pu,r=this.getDimensions,n=await r(t.floating);return{reference:kv(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Rv(t){return rt(t).direction==="rtl"}const jv={convertOffsetParentRelativeRectToViewportRelativeRect:vv,getDocumentElement:ft,getClippingRect:Sv,getOffsetParent:pu,getElementRects:Tv,getClientRects:yv,getDimensions:Cv,getScale:Rr,isElement:tt,isRTL:Rv};function mu(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ov(t,e){let r=null,n;const s=ft(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=c;if(a||e(),!m||!p)return;const y=Fn(h),g=Fn(s.clientWidth-(u+m)),v=Fn(s.clientHeight-(h+p)),w=Fn(u),b={rootMargin:-y+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Ie(0,Lt(1,l))||1};let _=!0;function E(S){const k=S[0].intersectionRatio;if(k!==l){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!mu(c,t.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,b)}r.observe(t)}return i(!0),o}function Pv(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Oi(t),u=s||o?[...c?ln(c):[],...ln(e)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const h=c&&a?Ov(c,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let y,g=l?nr(t):null;l&&v();function v(){const w=nr(t);g&&!mu(g,w)&&r(),g=w,y=requestAnimationFrame(v)}return r(),()=>{var w;u.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),h?.(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const Av=rv,Nv=nv,Iv=Xg,Dv=ov,Mv=ev,Ga=Qg,$v=sv,Lv=(t,e,r)=>{const n=new Map,s={platform:jv,...r},o={...s.platform,_c:n};return Yg(t,e,{...s,platform:o})};var Fv=typeof document<"u",Uv=function(){},ss=Fv?f.useLayoutEffect:Uv;function hs(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!hs(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!hs(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function gu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Za(t,e){const r=gu(t);return Math.round(e*r)/r}function ho(t){const e=f.useRef(t);return ss(()=>{e.current=t}),e}function Bv(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);hs(m,n)||p(n);const[y,g]=f.useState(null),[v,w]=f.useState(null),x=f.useCallback($=>{$!==S.current&&(S.current=$,g($))},[]),b=f.useCallback($=>{$!==k.current&&(k.current=$,w($))},[]),_=o||y,E=i||v,S=f.useRef(null),k=f.useRef(null),P=f.useRef(u),A=l!=null,W=ho(l),U=ho(s),N=ho(c),z=f.useCallback(()=>{if(!S.current||!k.current)return;const $={placement:e,strategy:r,middleware:m};U.current&&($.platform=U.current),Lv(S.current,k.current,$).then(T=>{const te={...T,isPositioned:N.current!==!1};j.current&&!hs(P.current,te)&&(P.current=te,Ts.flushSync(()=>{h(te)}))})},[m,e,r,U,N]);ss(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[c]);const j=f.useRef(!1);ss(()=>(j.current=!0,()=>{j.current=!1}),[]),ss(()=>{if(_&&(S.current=_),E&&(k.current=E),_&&E){if(W.current)return W.current(_,E,z);z()}},[_,E,z,W,A]);const H=f.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:b}),[x,b]),B=f.useMemo(()=>({reference:_,floating:E}),[_,E]),Y=f.useMemo(()=>{const $={position:r,left:0,top:0};if(!B.floating)return $;const T=Za(B.floating,u.x),te=Za(B.floating,u.y);return a?{...$,transform:"translate("+T+"px, "+te+"px)",...gu(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:te}},[r,a,B.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:z,refs:H,elements:B,floatingStyles:Y}),[u,z,H,B,Y])}const Vv=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Ga({element:n.current,padding:s}).fn(r):{}:n?Ga({element:n,padding:s}).fn(r):{}}}},qv=(t,e)=>({...Av(t),options:[t,e]}),Wv=(t,e)=>({...Nv(t),options:[t,e]}),zv=(t,e)=>({...$v(t),options:[t,e]}),Kv=(t,e)=>({...Iv(t),options:[t,e]}),Hv=(t,e)=>({...Dv(t),options:[t,e]}),Gv=(t,e)=>({...Mv(t),options:[t,e]}),Zv=(t,e)=>({...Vv(t),options:[t,e]});var Jv="Arrow",vu=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return d.jsx(oe.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});vu.displayName=Jv;var Yv=vu;function Qv(t){const[e,r]=f.useState(void 0);return wt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;r({width:i,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ai="Popper",[yu,Ms]=ht(Ai),[Xv,wu]=yu(Ai),bu=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return d.jsx(Xv,{scope:e,anchor:n,onAnchorChange:s,children:r})};bu.displayName=Ai;var xu="PopperAnchor",_u=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=wu(xu,r),i=f.useRef(null),a=we(e,i);return f.useEffect(()=>{o.onAnchorChange(n?.current||i.current)}),n?null:d.jsx(oe.div,{...s,ref:a})});_u.displayName=xu;var Ni="PopperContent",[ey,ty]=yu(Ni),Eu=f.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=t,v=wu(Ni,r),[w,x]=f.useState(null),b=we(e,K=>x(K)),[_,E]=f.useState(null),S=Qv(_),k=S?.width??0,P=S?.height??0,A=n+(o!=="center"?"-"+o:""),W=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(c)?c:[c],N=U.length>0,z={padding:W,boundary:U.filter(ny),altBoundary:N},{refs:j,floatingStyles:H,placement:B,isPositioned:Y,middlewareData:$}=Bv({strategy:"fixed",placement:A,whileElementsMounted:(...K)=>Pv(...K,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[qv({mainAxis:s+P,alignmentAxis:i}),l&&Wv({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?zv():void 0,...z}),l&&Kv({...z}),Hv({...z,apply:({elements:K,rects:Ue,availableWidth:pt,availableHeight:Ke})=>{const{width:mt,height:_t}=Ue.reference,it=K.floating.style;it.setProperty("--radix-popper-available-width",`${pt}px`),it.setProperty("--radix-popper-available-height",`${Ke}px`),it.setProperty("--radix-popper-anchor-width",`${mt}px`),it.setProperty("--radix-popper-anchor-height",`${_t}px`)}}),_&&Zv({element:_,padding:a}),sy({arrowWidth:k,arrowHeight:P}),m&&Gv({strategy:"referenceHidden",...z})]}),[T,te]=ku(B),ce=Le(y);wt(()=>{Y&&ce?.()},[Y,ce]);const X=$.arrow?.x,re=$.arrow?.y,se=$.arrow?.centerOffset!==0,[ve,Ce]=f.useState();return wt(()=>{w&&Ce(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(ey,{scope:r,placedSide:T,onArrowChange:E,arrowX:X,arrowY:re,shouldHideArrow:se,children:d.jsx(oe.div,{"data-side":T,"data-align":te,...g,ref:b,style:{...g.style,animation:Y?void 0:"none"}})})})});Eu.displayName=Ni;var Su="PopperArrow",ry={top:"bottom",right:"left",bottom:"top",left:"right"},Cu=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=ty(Su,n),i=ry[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(Yv,{...s,ref:r,style:{...s.style,display:"block"}})})});Cu.displayName=Su;function ny(t){return t!==null}var sy=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:s}=e,i=s.arrow?.centerOffset!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,u]=ku(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(s.arrow?.x??0)+a/2,p=(s.arrow?.y??0)+l/2;let y="",g="";return c==="bottom"?(y=i?h:`${m}px`,g=`${-l}px`):c==="top"?(y=i?h:`${m}px`,g=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=i?h:`${p}px`):c==="left"&&(y=`${n.floating.width+l}px`,g=i?h:`${p}px`),{data:{x:y,y:g}}}});function ku(t){const[e,r="center"]=t.split("-");return[e,r]}var oy=bu,Tu=_u,Ru=Eu,ju=Cu,[$s]=ht("Tooltip",[Ms]),Ii=Ms(),Ou="TooltipProvider",iy=700,Ja="tooltip.open",[ay,Pu]=$s(Ou),Au=t=>{const{__scopeTooltip:e,delayDuration:r=iy,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(ay,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};Au.displayName=Ou;var Nu="Tooltip",[ZS,Ls]=$s(Nu),qo="TooltipTrigger",ly=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ls(qo,r),o=Pu(qo,r),i=Ii(r),a=f.useRef(null),l=we(e,a,s.onTriggerChange),c=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Tu,{asChild:!0,...i,children:d.jsx(oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:F(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:F(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:F(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:F(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:F(t.onBlur,s.onClose),onClick:F(t.onClick,s.onClose)})})});ly.displayName=qo;var cy="TooltipPortal",[JS,uy]=$s(cy,{forceMount:void 0}),Nr="TooltipContent",Iu=f.forwardRef((t,e)=>{const r=uy(Nr,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,i=Ls(Nr,t.__scopeTooltip);return d.jsx(st,{present:n||i.open,children:i.disableHoverableContent?d.jsx(Du,{side:s,...o,ref:e}):d.jsx(dy,{side:s,...o,ref:e})})}),dy=f.forwardRef((t,e)=>{const r=Ls(Nr,t.__scopeTooltip),n=Pu(Nr,t.__scopeTooltip),s=f.useRef(null),o=we(e,s),[i,a]=f.useState(null),{trigger:l,onClose:c}=r,u=s.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{a(null),h(!1)},[h]),p=f.useCallback((y,g)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},x=gy(w,v.getBoundingClientRect()),b=vy(w,x),_=yy(g.getBoundingClientRect()),E=by([...b,..._]);a(E),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(l&&u){const y=v=>p(v,u),g=v=>p(v,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[l,u,p,m]),f.useEffect(()=>{if(i){const y=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},x=l?.contains(v)||u?.contains(v),b=!wy(w,i);x?m():b&&(m(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,i,c,m]),d.jsx(Du,{...t,ref:o})}),[hy,fy]=$s(Nu,{isInside:!1}),py=bp("TooltipContent"),Du=f.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Ls(Nr,r),c=Ii(r),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(Ja,u),()=>document.removeEventListener(Ja,u)),[u]),f.useEffect(()=>{if(l.trigger){const h=m=>{m.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(_n,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(Ru,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(py,{children:n}),d.jsx(hy,{scope:r,isInside:!0,children:d.jsx(qp,{id:l.contentId,role:"tooltip",children:s||n})})]})})});Iu.displayName=Nr;var Mu="TooltipArrow",my=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Ii(r);return fy(Mu,r).isInside?null:d.jsx(ju,{...s,...n,ref:e})});my.displayName=Mu;function gy(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vy(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function yy(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function wy(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,u=a.y,h=l.x,m=l.y;u>n!=m>n&&r<(h-c)*(n-u)/(m-u)+c&&(s=!s)}return s}function by(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),xy(e)}function xy(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var _y=Au,$u=Iu;const Ey=_y,Sy=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx($u,{ref:n,sideOffset:e,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Sy.displayName=$u.displayName;var Fs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Us=typeof window>"u"||"Deno"in globalThis;function Qe(){}function Cy(t,e){return typeof t=="function"?t(e):t}function ky(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ty(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wo(t,e){return typeof t=="function"?t(e):t}function Ry(t,e){return typeof t=="function"?t(e):t}function Ya(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(n){if(e.queryHash!==Di(i,e.options))return!1}else if(!un(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function Qa(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(cn(e.options.mutationKey)!==cn(o))return!1}else if(!un(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Di(t,e){return(e?.queryKeyHashFn||cn)(t)}function cn(t){return JSON.stringify(t,(e,r)=>zo(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function un(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>un(t[r],e[r])):!1}function Lu(t,e){if(t===e)return t;const r=Xa(t)&&Xa(e);if(r||zo(t)&&zo(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=Lu(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===i&&c===s?t:a}return e}function Xa(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zo(t){if(!el(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!el(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function el(t){return Object.prototype.toString.call(t)==="[object Object]"}function jy(t){return new Promise(e=>{setTimeout(e,t)})}function Oy(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Lu(t,e):e}function Py(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ay(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Mi=Symbol();function Fu(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Mi?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ny=class extends Fs{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Us&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Uu=new Ny,Iy=class extends Fs{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Us&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},fs=new Iy;function Dy(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function My(t){return Math.min(1e3*2**t,3e4)}function Bu(t){return(t??"online")==="online"?fs.isOnline():!0}var Vu=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function fo(t){return t instanceof Vu}function qu(t){let e=!1,r=0,n=!1,s;const o=Dy(),i=g=>{n||(m(new Vu(g)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>Uu.isFocused()&&(t.networkMode==="always"||fs.isOnline())&&t.canRun(),u=()=>Bu(t.networkMode)&&t.canRun(),h=g=>{n||(n=!0,t.onSuccess?.(g),s?.(),o.resolve(g))},m=g=>{n||(n=!0,t.onError?.(g),s?.(),o.reject(g))},p=()=>new Promise(g=>{s=v=>{(n||c())&&g(v)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{if(n)return;const x=t.retry??(Us?0:3),b=t.retryDelay??My,_=typeof b=="function"?b(r,w):b,E=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(e||!E){m(w);return}r++,t.onFail?.(r,w),jy(_).then(()=>c()?void 0:p()).then(()=>{e?m(w):y()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():p().then(y),o)}}var $y=t=>setTimeout(t,0);function Ly(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=$y;const o=a=>{e?t.push(a):s(()=>{r(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Re=Ly(),Wu=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ky(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Us?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Fy=class extends Wu{#e;#t;#r;#s;#n;#i;#a;constructor(t){super(),this.#a=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#r=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=By(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Oy(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Qe).catch(Qe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ry(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ty(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},s=()=>{const l=Fu(this.options,e),u=(()=>{const h={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#a=!1,this.options.persister?this.options.persister(l,u,this):l(u)},i=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#o({type:"fetch",meta:i.fetchOptions?.meta});const a=l=>{fo(l)&&l.silent||this.#o({type:"error",error:l}),fo(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=qu({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Uy(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#t=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return fo(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Re.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Uy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bu(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function By(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vy=class extends Fs{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??Di(n,e);let o=this.get(s);return o||(o=new Fy({client:t,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Re.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Ya(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Ya(t,r)):e}notify(t){Re.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Re.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Re.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qy=class extends Wu{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Wy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#s({type:"continue"})};this.#r=qu({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#s({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#s({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#s({type:"pending",context:o,variables:t,isPaused:n})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#s({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#s({type:"error",error:s})}}finally{this.#t.runNext(this)}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Re.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Wy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zy=class extends Fs{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new qy({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=Un(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Un(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Un(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(s=>s.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Un(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Re.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Qa(e,r))}findAll(t={}){return this.getAll().filter(e=>Qa(t,e))}notify(t){Re.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Re.batch(()=>Promise.all(t.map(e=>e.continue().catch(Qe))))}};function Un(t){return t.options.scope?.id}function tl(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],i=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},m=Fu(e.options,e.fetchOptions),p=async(y,g,v)=>{if(u)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const x=(()=>{const S={client:e.client,queryKey:e.queryKey,pageParam:g,direction:v?"backward":"forward",meta:e.options.meta};return h(S),S})(),b=await m(x),{maxPages:_}=e.options,E=v?Ay:Py;return{pages:E(y.pages,b,_),pageParams:E(y.pageParams,g,_)}};if(s&&o.length){const y=s==="backward",g=y?Ky:rl,v={pages:o,pageParams:i},w=g(n,v);a=await p(v,w,y)}else{const y=t??o.length;do{const g=l===0?i[0]??n.initialPageParam:rl(n,a);if(l>0&&g==null)break;a=await p(a,g),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function rl(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Ky(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Hy=class{#e;#t;#r;#s;#n;#i;#a;#o;constructor(t={}){this.#e=t.queryCache||new Vy,this.#t=t.mutationCache||new zy,this.#r=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=Uu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=fs.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Wo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,i=Cy(e,o);if(i!==void 0)return this.#e.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return Re.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Re.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return Re.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Re.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Qe).catch(Qe)}invalidateQueries(t,e={}){return Re.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Re.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Qe)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Qe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Wo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qe).catch(Qe)}fetchInfiniteQuery(t){return t.behavior=tl(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qe).catch(Qe)}ensureInfiniteQueryData(t){return t.behavior=tl(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fs.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#s.set(cn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{un(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#n.set(cn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{un(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Di(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mi&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gy=f.createContext(void 0),Zy=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(Gy.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dn(){return dn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dn.apply(this,arguments)}var Nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nt||(Nt={}));const nl="popstate";function Jy(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:i,hash:a}=n.location;return Ko("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ku(s)}return Qy(e,r,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yy(){return Math.random().toString(36).substr(2,8)}function sl(t,e){return{usr:t.state,key:t.key,idx:e}}function Ko(t,e,r,n){return r===void 0&&(r=null),dn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qr(e):e,{state:r,key:e&&e.key||n||Yy()})}function Ku(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Qy(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Nt.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(dn({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function h(){a=Nt.Pop;let v=u(),w=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:w})}function m(v,w){a=Nt.Push;let x=Ko(g.location,v,w);c=u()+1;let b=sl(x,c),_=g.createHref(x);try{i.pushState(b,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function p(v,w){a=Nt.Replace;let x=Ko(g.location,v,w);c=u();let b=sl(x,c),_=g.createHref(x);i.replaceState(b,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function y(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof v=="string"?v:Ku(v);return x=x.replace(/ $/,"%20"),Se(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return a},get location(){return t(s,i)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nl,h),l=v,()=>{s.removeEventListener(nl,h),l=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(v){return i.go(v)}};return g}var ol;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ol||(ol={}));function Xy(t,e,r){return r===void 0&&(r="/"),ew(t,e,r)}function ew(t,e,r,n){let s=typeof e=="string"?qr(e):e,o=Zu(s.pathname||"/",r);if(o==null)return null;let i=Hu(t);tw(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=fw(o);a=uw(i[l],c)}return a}function Hu(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=rr([n,l.relativePath]),u=r.concat(l);o.children&&o.children.length>0&&(Se(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Hu(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:lw(c,o.index),routesMeta:u})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Gu(o.path))s(o,i,l)}),e}function Gu(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Gu(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:cw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rw=/^:[\w-]+$/,nw=3,sw=2,ow=1,iw=10,aw=-2,il=t=>t==="*";function lw(t,e){let r=t.split("/"),n=r.length;return r.some(il)&&(n+=aw),e&&(n+=sw),r.filter(s=>!il(s)).reduce((s,o)=>s+(rw.test(o)?nw:o===""?ow:iw),n)}function cw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function uw(t,e,r){let{routesMeta:n}=t,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=dw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:rr([o,h.pathname]),pathnameBase:ww(rr([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=rr([o,h.pathnameBase]))}return i}function dw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=a[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?c[m]=void 0:c[m]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function hw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function fw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function pw(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?qr(t):t;return{pathname:r?r.startsWith("/")?r:mw(r,e):e,search:bw(n),hash:xw(s)}}function mw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function po(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vw(t,e){let r=gw(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yw(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=qr(t):(s=dn({},t),Se(!s.pathname||!s.pathname.includes("?"),po("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),po("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),po("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=pw(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const rr=t=>t.join("/").replace(/\/\/+/g,"/"),ww=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _w(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ju=["post","put","patch","delete"];new Set(Ju);const Ew=["get",...Ju];new Set(Ew);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hn.apply(this,arguments)}const $i=f.createContext(null),Sw=f.createContext(null),Bs=f.createContext(null),Vs=f.createContext(null),Wr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Yu=f.createContext(null);function qs(){return f.useContext(Vs)!=null}function Li(){return qs()||Se(!1),f.useContext(Vs).location}function Qu(t){f.useContext(Bs).static||f.useLayoutEffect(t)}function Fi(){let{isDataRoute:t}=f.useContext(Wr);return t?$w():Cw()}function Cw(){qs()||Se(!1);let t=f.useContext($i),{basename:e,future:r,navigator:n}=f.useContext(Bs),{matches:s}=f.useContext(Wr),{pathname:o}=Li(),i=JSON.stringify(vw(s,r.v7_relativeSplatPath)),a=f.useRef(!1);return Qu(()=>{a.current=!0}),f.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=yw(c,JSON.parse(i),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:rr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,i,o,t])}function kw(t,e){return Tw(t,e)}function Tw(t,e,r,n){qs()||Se(!1);let{navigator:s}=f.useContext(Bs),{matches:o}=f.useContext(Wr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Li(),u;if(e){var h;let v=typeof e=="string"?qr(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Se(!1),u=v}else u=c;let m=u.pathname||"/",p=m;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Xy(t,{pathname:p}),g=Aw(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:rr([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:rr([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return e&&g?f.createElement(Vs.Provider,{value:{location:hn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nt.Pop}},g):g}function Rw(){let t=Mw(),e=_w(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),r?f.createElement("pre",{style:s},r):null,null)}const jw=f.createElement(Rw,null);class Ow extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?f.createElement(Wr.Provider,{value:this.props.routeContext},f.createElement(Yu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pw(t){let{routeContext:e,match:r,children:n}=t,s=f.useContext($i);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Wr.Provider,{value:e},n)}function Aw(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);u>=0||Se(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:p}=r,y=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,m)=>{let p,y=!1,g=null,v=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||jw,l&&(c<0&&m===0?(Lw("route-fallback"),y=!0,v=null):c===m&&(y=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,m+1)),x=()=>{let b;return p?b=g:y?b=v:h.route.Component?b=f.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,f.createElement(Pw,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(Ow,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var Xu=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Xu||{}),ed=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(ed||{});function Nw(t){let e=f.useContext($i);return e||Se(!1),e}function Iw(t){let e=f.useContext(Sw);return e||Se(!1),e}function Dw(t){let e=f.useContext(Wr);return e||Se(!1),e}function td(t){let e=Dw(),r=e.matches[e.matches.length-1];return r.route.id||Se(!1),r.route.id}function Mw(){var t;let e=f.useContext(Yu),r=Iw(),n=td();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $w(){let{router:t}=Nw(Xu.UseNavigateStable),e=td(ed.UseNavigateStable),r=f.useRef(!1);return Qu(()=>{r.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hn({fromRouteId:e},o)))},[t,e])}const al={};function Lw(t,e,r){al[t]||(al[t]=!0)}function Fw(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function os(t){Se(!1)}function Uw(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Nt.Pop,navigator:o,static:i=!1,future:a}=t;qs()&&Se(!1);let l=e.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:o,static:i,future:hn({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=qr(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:y="default"}=n,g=f.useMemo(()=>{let v=Zu(u,l);return v==null?null:{location:{pathname:v,search:h,hash:m,state:p,key:y},navigationType:s}},[l,u,h,m,p,y,s]);return g==null?null:f.createElement(Bs.Provider,{value:c},f.createElement(Vs.Provider,{children:r,value:g}))}function Bw(t){let{children:e,location:r}=t;return kw(Ho(e),r)}new Promise(()=>{});function Ho(t,e){e===void 0&&(e=[]);let r=[];return f.Children.forEach(t,(n,s)=>{if(!f.isValidElement(n))return;let o=[...e,s];if(n.type===f.Fragment){r.push.apply(r,Ho(n.props.children,o));return}n.type!==os&&Se(!1),!n.props.index||!n.props.children||Se(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ho(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Vw="6";try{window.__reactRouterVersion=Vw}catch{}const qw="startTransition",ll=yi[qw];function Ww(t){let{basename:e,children:r,future:n,window:s}=t,o=f.useRef();o.current==null&&(o.current=Jy({window:s,v5Compat:!0}));let i=o.current,[a,l]=f.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},u=f.useCallback(h=>{c&&ll?ll(()=>l(h)):l(h)},[l,c]);return f.useLayoutEffect(()=>i.listen(u),[i,u]),f.useEffect(()=>Fw(n),[n]),f.createElement(Uw,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var cl;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cl||(cl={}));var ul;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ul||(ul={}));var Go=function(t,e){return Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Go(t,e)};function rd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Go(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qe=function(){return qe=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},qe.apply(this,arguments)};function Vt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function nd(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function sd(t,e){return function(r,n){e(r,n,t)}}function od(t,e,r,n,s,o){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,m=!1,p=r.length-1;p>=0;p--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(w||null))};var v=(0,r[p])(a==="accessor"?{get:u.get,set:u.set}:u[l],y);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=i(v.get))&&(u.get=h),(h=i(v.set))&&(u.set=h),(h=i(v.init))&&s.unshift(h)}else(h=i(v))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),m=!0}function id(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function ad(t){return typeof t=="symbol"?t:"".concat(t)}function ld(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function cd(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(h){i(h)}}function l(u){try{c(n.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function ud(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],s=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ws=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function dd(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ws(e,t,r)}function ps(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function hd(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ui(arguments[e]));return t}function fd(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Bi(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function pd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(y){return Promise.resolve(y).then(p,h)}}function a(p,y){n[p]&&(s[p]=function(g){return new Promise(function(v,w){o.push([p,g,v,w])>1||l(p,g)})},y&&(s[p]=y(s[p])))}function l(p,y){try{c(n[p](y))}catch(g){m(o[0][3],g)}}function c(p){p.value instanceof Ir?Promise.resolve(p.value.v).then(u,h):m(o[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function m(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function md(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:Ir(t[s](i)),done:!1}:o?o(i):i}:o}}function gd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ps=="function"?ps(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,l){i=t[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function vd(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var zw=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Zo=function(t){return Zo=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zo(t)};function yd(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zo(t),n=0;n<r.length;n++)r[n]!=="default"&&Ws(e,t,r[n]);return zw(e,t),e}function wd(t){return t&&t.__esModule?t:{default:t}}function bd(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xd(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function _d(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ed(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Kw=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Sd(t){function e(o){t.error=t.hasError?new Kw(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Cd(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?e?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):t}const Hw={__extends:rd,__assign:qe,__rest:Vt,__decorate:nd,__param:sd,__esDecorate:od,__runInitializers:id,__propKey:ad,__setFunctionName:ld,__metadata:cd,__awaiter:M,__generator:ud,__createBinding:Ws,__exportStar:dd,__values:ps,__read:Ui,__spread:hd,__spreadArrays:fd,__spreadArray:Bi,__await:Ir,__asyncGenerator:pd,__asyncDelegator:md,__asyncValues:gd,__makeTemplateObject:vd,__importStar:yd,__importDefault:wd,__classPrivateFieldGet:bd,__classPrivateFieldSet:xd,__classPrivateFieldIn:_d,__addDisposableResource:Ed,__disposeResources:Sd,__rewriteRelativeImportExtension:Cd},Gw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ed,get __assign(){return qe},__asyncDelegator:md,__asyncGenerator:pd,__asyncValues:gd,__await:Ir,__awaiter:M,__classPrivateFieldGet:bd,__classPrivateFieldIn:_d,__classPrivateFieldSet:xd,__createBinding:Ws,__decorate:nd,__disposeResources:Sd,__esDecorate:od,__exportStar:dd,__extends:rd,__generator:ud,__importDefault:wd,__importStar:yd,__makeTemplateObject:vd,__metadata:cd,__param:sd,__propKey:ad,__read:Ui,__rest:Vt,__rewriteRelativeImportExtension:Cd,__runInitializers:id,__setFunctionName:ld,__spread:hd,__spreadArray:Bi,__spreadArrays:fd,__values:ps,default:Hw},Symbol.toStringTag,{value:"Module"})),Zw="modulepreload",Jw=function(t){return"/File-Management-System/"+t},dl={},zr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=l(r.map(c=>{if(c=Jw(c),c in dl)return;dl[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Zw,u||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),u)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},Yw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Vi extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class hl extends Vi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fl extends Vi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pl extends Vi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jo||(Jo={}));class Qw{constructor(e,{headers:r={},customFetch:n,region:s=Jo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Yw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return M(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:i,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let m;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=a):typeof a=="string"?(c["Content-Type"]="text/plain",m=a):typeof FormData<"u"&&a instanceof FormData?m=a:(c["Content-Type"]="application/json",m=JSON.stringify(a)):m=a;const p=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),o),body:m,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new hl(w)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new fl(p);if(!p.ok)throw new pl(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"||g==="application/pdf"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new hl(o)}:{data:null,error:o,response:o instanceof pl||o instanceof fl?o.context:void 0}}})}}var Te={};const Kr=yc(Gw);var Bn={},Vn={},qn={},Wn={},zn={},Xw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dr=Xw();const eb=Dr.fetch,kd=Dr.fetch.bind(Dr),Td=Dr.Headers,tb=Dr.Request,rb=Dr.Response,ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:Td,Request:tb,Response:rb,default:kd,fetch:eb},Symbol.toStringTag,{value:"Module"})),nb=yc(ir);var Kn={},ml;function Rd(){if(ml)return Kn;ml=1,Object.defineProperty(Kn,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Kn.default=t,Kn}var gl;function jd(){if(gl)return zn;gl=1,Object.defineProperty(zn,"__esModule",{value:!0});const t=Kr,e=t.__importDefault(nb),r=t.__importDefault(Rd());class n{constructor(o){var i,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(i=o.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,i){return this.headers=new Headers(this.headers),this.headers.set(o,i),this}then(o,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,m,p;let y=null,g=null,v=null,w=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&E&&E.length>1&&(v=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,w=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await c.text();try{y=JSON.parse(_),Array.isArray(y)&&c.status===404&&(g=[],y=null,w=200,x="OK")}catch{c.status===404&&_===""?(w=204,x="No Content"):y={message:_}}if(y&&this.isMaybeSingle&&(!((p=y?.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,w=200,x="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:g,count:v,status:w,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,m;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=c?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,i)}returns(){return this}overrideTypes(){return this}}return zn.default=n,zn}var vl;function Od(){if(vl)return Wn;vl=1,Object.defineProperty(Wn,"__esModule",{value:!0});const e=Kr.__importDefault(jd());class r extends e.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Wn.default=r,Wn}var yl;function qi(){if(yl)return qn;yl=1,Object.defineProperty(qn,"__esModule",{value:!0});const e=Kr.__importDefault(Od()),r=new RegExp("[,()]");class n extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return qn.default=n,qn}var wl;function Pd(){if(wl)return Vn;wl=1,Object.defineProperty(Vn,"__esModule",{value:!0});const e=Kr.__importDefault(qi());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Vn.default=r,Vn}var bl;function sb(){if(bl)return Bn;bl=1,Object.defineProperty(Bn,"__esModule",{value:!0});const t=Kr,e=t.__importDefault(Pd()),r=t.__importDefault(qi());class n{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const m=new URL(`${this.url}/rpc/${o}`);let p;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(h="POST",p=i);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:h,url:m,headers:y,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Bn.default=n,Bn}var xl;function ob(){if(xl)return Te;xl=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const t=Kr,e=t.__importDefault(sb());Te.PostgrestClient=e.default;const r=t.__importDefault(Pd());Te.PostgrestQueryBuilder=r.default;const n=t.__importDefault(qi());Te.PostgrestFilterBuilder=n.default;const s=t.__importDefault(Od());Te.PostgrestTransformBuilder=s.default;const o=t.__importDefault(jd());Te.PostgrestBuilder=o.default;const i=t.__importDefault(Rd());return Te.PostgrestError=i.default,Te.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:i.default},Te}var Ad=ob();const Nd=vi(Ad),ib=wc({__proto__:null,default:Nd},[Ad]),{PostgrestClient:ab,PostgrestQueryBuilder:YS,PostgrestFilterBuilder:QS,PostgrestTransformBuilder:XS,PostgrestBuilder:eC,PostgrestError:tC}=Nd||ib;class lb{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cb="2.77.0",ub=`realtime-js/${cb}`,db="1.0.0",Yo=1e4,hb=1e3,fb=100;var rn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rn||(rn={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var Qo;(function(t){t.websocket="websocket"})(Qo||(Qo={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class pb{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+s));i=i+s;const l=n.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Id{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(fe||(fe={}));const _l=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=mb(i,t,e,s),o),{}):{}},mb=(t,e,r,n)=>{const s=e.find(a=>a.name===t),o=s?.type,i=r[t];return o&&!n.includes(o)?Dd(o,i):Xo(i)},Dd=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return wb(e,r)}switch(t){case fe.bool:return gb(e);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return vb(e);case fe.json:case fe.jsonb:return yb(e);case fe.timestamp:return bb(e);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Xo(e);default:return Xo(e)}},Xo=t=>t,gb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Dd(e,a))}return t},bb=t=>typeof t=="string"?t.replace(" ","T"):t,Md=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mo{constructor(e,r,n={},s=Yo){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var El;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(El||(El={}));class nn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nn.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=nn.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nn.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const m=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),y=u.filter(v=>p.indexOf(v.presence_ref)<0),g=h.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(a[c]=y),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...m)}n(a,u,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sl||(Sl={}));var sn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sn||(sn={}));var vt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Wi{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mo(this,et.join,this.params,this.timeout),this.rejoinTimer=new Id(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new nn(this),this.broadcastEndpointURL=Md(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[sn.PRESENCE]&&this.bindings[sn.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(vt.CHANNEL_ERROR,p)),this._onClose(()=>e?.(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e?.(vt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,w=[];for(let x=0;x<v;x++){const b=g[x],{filter:{event:_,schema:E,table:S,filter:k}}=b,P=p&&p[x];if(P&&P.event===_&&P.schema===E&&P.table===S&&P.filter===k)w.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=_e.errored,e?.(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(vt.SUBSCRIBED);return}}).receive("error",p=>{this.state=_e.errored,e?.(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===_e.joined&&e===sn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mo(this,et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=et;if(n&&[a,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(m,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var y,g,v,w,x,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,E=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(E==="*"||E?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:w,type:x,errors:b}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Wi.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=_l(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=_l(e.columns,e.old_record)),r}}const go=()=>{},Hn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xb=[1e3,2e3,5e3,1e4],_b=1e4,Eb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sb{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yo,this.transport=null,this.heartbeatIntervalMs=Hn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=go,this.ref=0,this.reconnectTimer=null,this.logger=go,this.conn=null,this.sendBuffer=[],this.serializer=new pb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>zr(async()=>{const{default:a}=await Promise.resolve().then(()=>ir);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Qo.websocket}`,this.httpEndpoint=Md(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:db}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return Gt.Connecting;case rn.open:return Gt.Open;case rn.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Wi(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Eb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ub};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Id(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,a,l,c,u;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Yo,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Hn.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e?.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:go,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>xb[h-1]||_b),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,m)=>m(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class zi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cb extends zi{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ei extends zi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ki=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kb=()=>M(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zr(()=>Promise.resolve().then(()=>ir),void 0)).Response:Response}),ti=t=>{if(Array.isArray(t))return t.map(r=>ti(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=ti(n)}),e},Tb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rb=(t,e,r)=>M(void 0,void 0,void 0,function*(){const n=yield kb();t instanceof n&&!r?.noResolveJson?t.json().then(s=>{const o=t.status||500,i=s?.statusCode||o+"";e(new Cb(vo(s),o,i))}).catch(s=>{e(new ei(vo(s),s))}):e(new ei(vo(t),t))}),jb=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!n?s:(Tb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function kn(t,e,r,n,s,o){return M(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,jb(e,n,s,o)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Rb(l,a,n))})})}function fn(t,e,r,n){return M(this,void 0,void 0,function*(){return kn(t,"GET",e,r,n)})}function Xe(t,e,r,n,s){return M(this,void 0,void 0,function*(){return kn(t,"POST",e,n,s,r)})}function ri(t,e,r,n,s){return M(this,void 0,void 0,function*(){return kn(t,"PUT",e,n,s,r)})}function Ob(t,e,r,n){return M(this,void 0,void 0,function*(){return kn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Hi(t,e,r,n,s){return M(this,void 0,void 0,function*(){return kn(t,"DELETE",e,n,s,r)})}class Pb{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return M(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var $d;class Ab{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[$d]="BlobDownloadBuilder",this.promise=null}asStream(){return new Pb(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return M(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}$d=Symbol.toStringTag;const Nb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ib{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ki(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return M(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Cl),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?ri:Xe)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ge(o))return{data:null,error:o};throw o}})}upload(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return M(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Cl.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield ri(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return M(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield Xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new zi("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}copy(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return M(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return M(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>fn(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Ab(l,this.shouldThrowOnError)}info(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ti(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}exists(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ob(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n)&&n instanceof ei){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return M(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return M(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Nb),r),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}listV2(e,r){return M(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ld="2.77.0",Fd={"X-Client-Info":`storage-js/${Ld}`};class Db{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fd),r),this.fetch=Ki(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield fn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e){return M(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Mb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fd),r),this.fetch=Ki(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield fn(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Hi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}}const Gi={"X-Client-Info":`storage-js/${Ld}`,"Content-Type":"application/json"};class Ud extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function De(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class yo extends Ud{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $b extends Ud{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var kl;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kl||(kl={}));const Zi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Lb=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fb=(t,e,r)=>M(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=i?.statusCode||i?.code||s+"";e(new yo(Tl(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new yo(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;e(new yo(a,s,i))}}else e(new $b(Tl(t),t))}),Ub=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return n?(Lb(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Bb(t,e,r,n,s,o){return M(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(r,Ub(e,n,s,o)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>Fb(l,a,n))})})}function Me(t,e,r,n,s){return M(this,void 0,void 0,function*(){return Bb(t,"POST",e,n,s,r)})}class Vb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}listIndexes(e){return M(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}}class qb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return M(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listVectors(e){return M(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Me(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}queryVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteVectors(e){return M(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}class Wb{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gi),r),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listBuckets(){return M(this,arguments,void 0,function*(e={}){try{return{data:yield Me(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}class zb extends Wb{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Kb(this.url,this.headers,e,this.fetch)}}class Kb extends Vb{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return M(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return M(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return M(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return M(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Hb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Hb extends qb{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return M(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return M(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return M(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return M(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return M(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gb extends Db{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ib(this.url,this.headers,e,this.fetch)}get vectors(){return new zb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Mb(this.url+"/iceberg",this.headers,this.fetch)}}const Zb="2.77.0";let Yr="";typeof Deno<"u"?Yr="deno":typeof document<"u"?Yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yr="react-native":Yr="node";const Jb={"X-Client-Info":`supabase-js-${Yr}/${Zb}`},Yb={headers:Jb},Qb={schema:"public"},Xb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e0={},t0=t=>{let e;return t?e=t:typeof fetch>"u"?e=kd:e=fetch,(...r)=>e(...r)},r0=()=>typeof Headers>"u"?Td:Headers,n0=(t,e,r)=>{const n=t0(r),s=r0();return async(o,i)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(i?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:c}))}};function s0(t){return t.endsWith("/")?t:t+"/"}function o0(t,e){var r,n;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function i0(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bd="2.77.0",_r=30*1e3,ni=3,wo=ni*_r,a0="http://localhost:9999",l0="supabase.auth.token",c0={"X-Client-Info":`gotrue-js/${Bd}`},si="X-Supabase-Api-Version",Vd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d0=600*1e3;class pn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class h0 extends pn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function f0(t){return q(t)&&t.name==="AuthApiError"}class Zt extends pn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class qt extends pn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class jt extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p0(t){return q(t)&&t.name==="AuthSessionMissingError"}class pr extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gn extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zn extends qt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m0(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rl extends qt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oi extends qt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function bo(t){return q(t)&&t.name==="AuthRetryableFetchError"}class jl extends qt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ii extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ol=` 	
\r=`.split(""),g0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ol.length;e+=1)t[Ol[e].charCodeAt(0)]=-2;for(let e=0;e<ms.length;e+=1)t[ms[e].charCodeAt(0)]=e;return t})();function Pl(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ms[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ms[n]),e.queuedBits-=6}}function qd(t,e,r){const n=g0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Al(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{w0(i,n,r)};for(let i=0;i<t.length;i+=1)qd(t.charCodeAt(i),s,o);return e.join("")}function v0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function y0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}v0(n,e)}}function w0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function jr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)qd(t.charCodeAt(s),r,n);return new Uint8Array(e)}function b0(t){const e=[];return y0(t,r=>e.push(r)),new Uint8Array(e)}function er(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Pl(s,r,n)),Pl(null,r,n),e.join("")}function x0(t){return Math.round(Date.now()/1e3)+t}function _0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},Wd=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function E0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const zd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zr(async()=>{const{default:n}=await Promise.resolve().then(()=>ir);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},S0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Kt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class zs{constructor(){this.promise=new zs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zs.promiseConstructor=Promise;function xo(t){const e=t.split(".");if(e.length!==3)throw new ii("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!u0.test(e[n]))throw new ii("JWT not in base64url format");return{header:JSON.parse(Al(e[0])),payload:JSON.parse(Al(e[1])),signature:jr(e[2]),raw:{header:e[0],payload:e[1]}}}async function C0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function k0(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function T0(t){return("0"+t.toString(16)).substr(-2)}function R0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,T0).join("")}async function j0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function O0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await j0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mr(t,e,r=!1){const n=R0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,s);const o=await O0(n);return[o,n===o?"plain":"s256"]}const P0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A0(t){const e=t.headers.get(si);if(!e||!e.match(P0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function I0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!D0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _o(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nl(t){return JSON.parse(JSON.stringify(t))}const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),M0=[502,503,504];async function Il(t){var e;if(!S0(t))throw new oi(Ht(t),0);if(M0.includes(t.status))throw new oi(Ht(t),t.status);let r;try{r=await t.json()}catch(o){throw new Zt(Ht(o),o)}let n;const s=A0(t);if(s&&s.getTime()>=Vd["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jl(Ht(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new jl(Ht(r),t.status,r.weak_password.reasons);throw new h0(Ht(r),t.status||500,n)}const $0=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(t,e,r,n){var s;const o=Object.assign({},n?.headers);o[si]||(o[si]=Vd["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await L0(t,e,r+a,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function L0(t,e,r,n,s,o){const i=$0(e,n,s,o);let a;try{a=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new oi(Ht(l),0)}if(a.ok||await Il(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await Il(l)}}function Ye(t){var e;let r=null;B0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=x0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Dl(t){const e=Ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F0(t){return{data:t,error:null}}function U0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Vt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Ml(t){return t}function B0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Eo=["global","local","others"];class V0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zd(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Eo[0]){if(Eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eo.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vt(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:U0,redirectTo:r?.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ml});if(u.error)throw u.error;const h=await u.json(),m=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){gr(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gr(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gr(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gr(e.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ml});if(u.error)throw u.error;const h=await u.json(),m=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}}function $l(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const vr={debug:!!(globalThis&&Wd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q0 extends Kd{}async function W0(t,e,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function z0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hd(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function K0(t){return parseInt(t,16)}function H0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function G0(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Hd(t.address),y=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${v}
${w}`}class be extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class gs extends be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Z0({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Gd(i)){if(o.rp.id!==i)return new be({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function J0({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Gd(n)){if(r.rpId!==n)return new be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Y0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Q0=new Y0;function X0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Vt(t,["challenge","user","excludeCredentials"]),o=jr(e).buffer,i=Object.assign(Object.assign({},r),{id:jr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:jr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function ex(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vt(t,["challenge","allowCredentials"]),s=jr(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:jr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function tx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:er(new Uint8Array(t.response.attestationObject)),clientDataJSON:er(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:er(new Uint8Array(s.authenticatorData)),clientDataJSON:er(new Uint8Array(s.clientDataJSON)),signature:er(new Uint8Array(s.signature)),userHandle:s.userHandle?er(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gd(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ll(){var t,e;return!!(Ne()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nx(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gs("Browser returned unexpected credential type",e)}:{data:null,error:new gs("Empty credential response",e)}}catch(e){return{data:null,error:Z0({error:e,options:t})}}}async function sx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gs("Browser returned unexpected credential type",e)}:{data:null,error:new gs("Empty credential response",e)}}catch(e){return{data:null,error:J0({error:e,options:t})}}}const ox={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ix={userVerification:"preferred",hints:["security-key"]};function vs(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=vs(a,i):n[o]=vs(i)}else n[o]=i}return n}function ax(t,e){return vs(ox,t,e||{})}function lx(t,e){return vs(ix,t,e||{})}class cx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!i)return{data:null,error:a};const l=s??Q0.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=ax(i.webauthn.credential_options.publicKey,o?.create),{data:u,error:h}=await nx({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=lx(i.webauthn.credential_options.publicKey,o?.request),{data:u,error:h}=await sx(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(i){return q(i)?{data:null,error:i}:{data:null,error:new Zt("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new pn("rpId is required for WebAuthn authentication")};try{if(!Ll())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return q(i)?{data:null,error:i}:{data:null,error:new Zt("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new pn("rpId is required for WebAuthn registration")};try{if(!Ll())return{data:null,error:new Zt("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return q(i)?{data:null,error:i}:{data:null,error:new Zt("Unexpected error in register",i)}}}}z0();const ux={url:a0,storageKey:l0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fl(t,e,r){return await r()}const yr={};class mn{get jwks(){var e,r;return(r=(e=yr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=yr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mn.nextInstanceID,mn.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ux),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new V0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zd(s.fetch),this.lock=s.lock||Fl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ne()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=W0:this.lock=Fl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cx(this)},this.persistSession?(s.storage?this.storage=s.storage:Wd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$l(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$l(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=E0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ne()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),m0(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new Zt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:u,password:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await mr(this.storage,this.storageKey)),o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ye})}else if("phone"in e){const{phone:u,password:h,options:m}=e;o=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(s=m?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ye})}else throw new Gn("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Dl})}else if("phone"in e){const{phone:o,password:i,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Dl})}else throw new Gn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,i,a,l,c,u,h,m;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:g,wallet:v,statement:w,options:x}=e;let b;if(Ne())if(typeof v=="object")b=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href),E=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Hd(E[0]);let k=(n=x?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await b.request({method:"eth_chainId"});k=K0(A)}const P={domain:_.host,address:S,statement:w,uri:_.href,version:"1",chainId:k,nonce:(s=x?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=x?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=x?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=G0(P),y=await b.request({method:"personal_sign",params:[H0(p),S]})}try{const{data:g,error:v}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ye});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new pr}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(q(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var r,n,s,o,i,a,l,c,u,h,m,p;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:v,wallet:w,statement:x,options:b}=e;let _;if(Ne())if(typeof w=="object")_=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const E=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=b?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:w}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:er(g)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ye});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new pr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(q(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ye});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new pr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ye}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await mr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Gn("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ye});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await mr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:F0})}catch(o){if(q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:a}}throw new Gn("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Kt(this.userStorage,this.storageKey+"-user");i?.user?e.user=i.user:e.user=_o()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:At})})}catch(r){if(q(r))return p0(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new jt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await mr(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:At});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=xo(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:a}=r;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new jt;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ne())throw new Zn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rl("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new Zn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let m=u+h;l&&(m=parseInt(l));const p=m-u;p*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=m-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(f0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=_0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await mr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:h,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ne()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:u}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ye}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new pr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await k0(async s=>(s>0&&await C0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,o)=>{const i=200*Math.pow(2,s);return o&&bo(o)&&Date.now()+i-n<_r})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ne()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Kt(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Kt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Er(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i?.user)!==null&&e!==void 0?e:_o()}else if(s&&!s.user&&!s.user){const i=await Kt(this.storage,this.storageKey+"-user");i&&i?.user?(s.user=i.user,await Rt(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=_o()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wo;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${wo}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),bo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&i?.user?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zs;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),q(o)){const i={data:null,error:o};return bo(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Nl(s);await Er(this.storage,this.storageKey,o)}else{const s=Nl(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_r}ms, refresh threshold is ${ni} ticks`),s<=ni&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await mr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tx(e.webauthn.credential_response):rx(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const i=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:X0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ex(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xo(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+d0>s)return n;const{data:o,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=xo(n);r?.allowExpired||N0(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=I0(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,b0(`${a}.${l}`)))throw new ii("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}mn.nextInstanceID=0;const dx=mn;class hx extends dx{constructor(e){super(e)}}class fx{constructor(e,r,n){var s,o,i;this.supabaseUrl=e,this.supabaseKey=r;const a=i0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Qb,realtime:e0,auth:Object.assign(Object.assign({},Xb),{storageKey:l}),global:Yb},u=o0(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=n0(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ab(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Gb(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Qw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hx({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const px=(t,e,r)=>new fx(t,e,r);function mx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gx="https://igcgiyudtgdqocxgyguv.supabase.co",vx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnY2dpeXVkdGdkcW9jeGd5Z3V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MjI4NjMsImV4cCI6MjA3NzM5ODg2M30.A8Usel7ZF3g_FKSb4uucGFM94-Vl1oYce8XpLZv1_JQ",Ee=px(gx,vx,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Zd=f.createContext(void 0),yx=({children:t})=>{const[e,r]=f.useState(null),[n,s]=f.useState(null),[o,i]=f.useState(!0),a=Fi();f.useEffect(()=>{const{data:{subscription:c}}=Ee.auth.onAuthStateChange((u,h)=>{s(h),r(h?.user??null),i(!1)});return Ee.auth.getSession().then(({data:{session:u}})=>{s(u),r(u?.user??null),i(!1)}),()=>c.unsubscribe()},[]);const l=async()=>{await Ee.auth.signOut(),a("/auth")};return d.jsx(Zd.Provider,{value:{user:e,session:n,loading:o,signOut:l},children:t})},Ks=()=>{const t=f.useContext(Zd);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},wx=({children:t})=>{const{user:e,loading:r}=Ks(),n=Fi();return f.useEffect(()=>{!r&&!e&&n("/auth")},[e,r,n]),r?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?d.jsx(d.Fragment,{children:t}):null},bx=As("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?yp:"button";return d.jsx(i,{className:ie(bx({variant:e,size:r,className:t})),ref:o,...s})});ue.displayName="Button";const at=f.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));at.displayName="Input";var xx="Label",Jd=f.forwardRef((t,e)=>d.jsx(oe.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Jd.displayName=xx;var Yd=Jd;const _x=As("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yt=f.forwardRef(({className:t,...e},r)=>d.jsx(Yd,{ref:r,className:ie(_x(),t),...e}));yt.displayName=Yd.displayName;const It=f.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));It.displayName="Card";const Hs=f.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));Hs.displayName="CardHeader";const Gs=f.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gs.displayName="CardTitle";const Zs=f.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",t),...e}));Zs.displayName="CardDescription";const Dt=f.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:ie("p-6 pt-0",t),...e}));Dt.displayName="CardContent";const Ex=f.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",t),...e}));Ex.displayName="CardFooter";var Sx=f.createContext(void 0);function Ji(t){const e=f.useContext(Sx);return t||e||"ltr"}var So="rovingFocusGroup.onEntryFocus",Cx={bubbles:!1,cancelable:!0},Tn="RovingFocusGroup",[ai,Qd,kx]=wi(Tn),[Tx,Js]=ht(Tn,[kx]),[Rx,jx]=Tx(Tn),Xd=f.forwardRef((t,e)=>d.jsx(ai.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(ai.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Ox,{...t,ref:e})})}));Xd.displayName=Tn;var Ox=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,m=f.useRef(null),p=we(e,m),y=Ji(o),[g,v]=En({prop:i,defaultProp:a??null,onChange:l,caller:Tn}),[w,x]=f.useState(!1),b=Le(c),_=Qd(r),E=f.useRef(!1),[S,k]=f.useState(0);return f.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(So,b),()=>P.removeEventListener(So,b)},[b]),d.jsx(Rx,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(P=>v(P),[v]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:f.useCallback(()=>k(P=>P-1),[]),children:d.jsx(oe.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:F(t.onMouseDown,()=>{E.current=!0}),onFocus:F(t.onFocus,P=>{const A=!E.current;if(P.target===P.currentTarget&&A&&!w){const W=new CustomEvent(So,Cx);if(P.currentTarget.dispatchEvent(W),!W.defaultPrevented){const U=_().filter(B=>B.focusable),N=U.find(B=>B.active),z=U.find(B=>B.id===g),H=[N,z,...U].filter(Boolean).map(B=>B.ref.current);rh(H,u)}}E.current=!1}),onBlur:F(t.onBlur,()=>x(!1))})})}),eh="RovingFocusGroupItem",th=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=t,l=tr(),c=o||l,u=jx(eh,r),h=u.currentTabStopId===c,m=Qd(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=u;return f.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),d.jsx(ai.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:d.jsx(oe.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:F(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:F(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:F(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=Nx(v,u.orientation,u.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=u.loop?Ix(b,_+1):b.slice(_+1)}setTimeout(()=>rh(b))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});th.displayName=eh;var Px={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ax(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Nx(t,e,r){const n=Ax(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Px[n]}function rh(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Ix(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var nh=Xd,sh=th,Ys="Tabs",[Dx]=ht(Ys,[Js]),oh=Js(),[Mx,Yi]=Dx(Ys),ih=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Ji(a),[h,m]=En({prop:n,onChange:s,defaultProp:o??"",caller:Ys});return d.jsx(Mx,{scope:r,baseId:tr(),value:h,onValueChange:m,orientation:i,dir:u,activationMode:l,children:d.jsx(oe.div,{dir:u,"data-orientation":i,...c,ref:e})})});ih.displayName=Ys;var ah="TabsList",lh=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Yi(ah,r),i=oh(r);return d.jsx(nh,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:d.jsx(oe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});lh.displayName=ah;var ch="TabsTrigger",uh=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,i=Yi(ch,r),a=oh(r),l=fh(i.baseId,n),c=ph(i.baseId,n),u=n===i.value;return d.jsx(sh,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(oe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:F(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:F(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:F(t.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!s&&h&&i.onValueChange(n)})})})});uh.displayName=ch;var dh="TabsContent",hh=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=t,a=Yi(dh,r),l=fh(a.baseId,n),c=ph(a.baseId,n),u=n===a.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),d.jsx(st,{present:s||u,children:({present:m})=>d.jsx(oe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});hh.displayName=dh;function fh(t,e){return`${t}-trigger-${e}`}function ph(t,e){return`${t}-content-${e}`}var $x=ih,mh=lh,gh=uh,vh=hh;const Lx=$x,yh=f.forwardRef(({className:t,...e},r)=>d.jsx(mh,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));yh.displayName=mh.displayName;const li=f.forwardRef(({className:t,...e},r)=>d.jsx(gh,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));li.displayName=gh.displayName;const ci=f.forwardRef(({className:t,...e},r)=>d.jsx(vh,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ci.displayName=vh.displayName;var le;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(const a of o)i[a]=s[a];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},t.find=(s,o)=>{for(const i of s)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(le||(le={}));var Ul;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ul||(Ul={}));const D=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pt=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return Number.isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:t===null?D.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?D.promise:typeof Map<"u"&&t instanceof Map?D.map:typeof Set<"u"&&t instanceof Set?D.set:typeof Date<"u"&&t instanceof Date?D.date:D.object;default:return D.unknown}},R=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof nt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}nt.create=t=>new nt(t);const ui=(t,e)=>{let r;switch(t.code){case R.invalid_type:t.received===D.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,le.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:r=`Unrecognized key(s) in object: ${le.joinValues(t.keys,", ")}`;break;case R.invalid_union:r="Invalid input";break;case R.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${le.joinValues(t.options)}`;break;case R.invalid_enum_value:r=`Invalid enum value. Expected ${le.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:r="Invalid function arguments";break;case R.invalid_return_type:r="Invalid function return type";break;case R.invalid_date:r="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:le.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case R.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case R.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case R.custom:r="Invalid input";break;case R.invalid_intersection_types:r="Intersection results could not be merged";break;case R.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:r="Number must be finite";break;default:r=e.defaultError,le.assertNever(t)}return{message:r}};let Fx=ui;function Ux(){return Fx}const Bx=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(i,{data:e,defaultError:a}).message;return{...s,path:o,message:a}};function I(t,e){const r=Ux(),n=Bx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ui?void 0:ui].filter(s=>!!s)});t.common.issues.push(n)}class Fe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Z;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return Fe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return Z;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:e.value,value:n}}}const Z=Object.freeze({status:"aborted"}),Qr=t=>({status:"dirty",value:t}),ze=t=>({status:"valid",value:t}),Bl=t=>t.status==="aborted",Vl=t=>t.status==="dirty",Mr=t=>t.status==="valid",ys=t=>typeof Promise<"u"&&t instanceof Promise;var L;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(L||(L={}));class Ut{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ql=(t,e)=>{if(Mr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new nt(t.common.issues);return this._error=r,this._error}}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,a)=>{const{message:l}=t;return i.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:s}}class ae{get description(){return this._def.description}_getType(e){return Pt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Pt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fe,ctx:{common:e.parent.common,data:e.data,parsedType:Pt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ys(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pt(e)},s=this._parseSync({data:e,path:n.path,parent:n});return ql(n,s)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pt(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Mr(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Mr(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Pt(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(ys(s)?s:Promise.resolve(s));return ql(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=e(s),a=()=>o.addIssue({code:R.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Lr({schema:this,typeName:J.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $t.create(this,this._def)}nullable(){return Fr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this)}promise(){return _s.create(this,this._def)}or(e){return bs.create([this,e],this._def)}and(e){return xs.create(this,e,this._def)}transform(e){return new Lr({...ne(this._def),schema:this,typeName:J.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new hi({...ne(this._def),innerType:this,defaultValue:r,typeName:J.ZodDefault})}brand(){return new u_({typeName:J.ZodBranded,type:this,...ne(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new fi({...ne(this._def),innerType:this,catchValue:r,typeName:J.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Qi.create(this,e)}readonly(){return pi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vx=/^c[^\s-]{8,}$/i,qx=/^[0-9a-z]+$/,Wx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kx=/^[a-z0-9_-]{21}$/i,Hx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Co;const Yx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,e_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",n_=new RegExp(`^${wh}$`);function bh(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function s_(t){return new RegExp(`^${bh(t)}$`)}function o_(t){let e=`${wh}T${bh(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function i_(t,e){return!!((e==="v4"||!e)&&Yx.test(t)||(e==="v6"||!e)&&Xx.test(t))}function a_(t,e){if(!Hx.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function l_(t,e){return!!((e==="v4"||!e)&&Qx.test(t)||(e==="v6"||!e)&&e_.test(t))}class Mt extends ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){const o=this._getOrReturnCtx(e);return I(o,{code:R.invalid_type,expected:D.string,received:o.parsedType}),Z}const n=new Fe;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=e.data.length>o.value,a=e.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(e,s),i?I(s,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&I(s,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Zx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"email",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Co||(Co=new RegExp(Jx,"u")),Co.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"emoji",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")zx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"uuid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Kx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"nanoid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Vx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"cuid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")qx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"cuid2",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Wx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"ulid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),I(s,{validation:"url",code:R.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"regex",code:R.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?o_(o).test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?n_.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?s_(o).test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?Gx.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"duration",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?i_(e.data,o.version)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"ip",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?a_(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"jwt",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?l_(e.data,o.version)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"cidr",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?t_.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"base64",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?r_.test(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{validation:"base64url",code:R.invalid_string,message:o.message}),n.dirty()):le.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:R.invalid_string,...L.errToObj(n)})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...L.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...L.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...L.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...L.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...L.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...L.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...L.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...L.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...L.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...L.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...L.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...L.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...L.errToObj(r)})}nonempty(e){return this.min(1,L.errToObj(e))}trim(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Mt.create=t=>new Mt({checks:[],typeName:J.ZodString,coerce:t?.coerce??!1,...ne(t)});function c_(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return o%i/10**s}class gn extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){const o=this._getOrReturnCtx(e);return I(o,{code:R.invalid_type,expected:D.number,received:o.parsedType}),Z}let n;const s=new Fe;for(const o of this._def.checks)o.kind==="int"?le.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?c_(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:R.not_finite,message:o.message}),s.dirty()):le.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,L.toString(r))}gt(e,r){return this.setLimit("min",e,!1,L.toString(r))}lte(e,r){return this.setLimit("max",e,!0,L.toString(r))}lt(e,r){return this.setLimit("max",e,!1,L.toString(r))}setLimit(e,r,n,s){return new gn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:L.toString(s)}]})}_addCheck(e){return new gn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:L.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&le.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}gn.create=t=>new gn({checks:[],typeName:J.ZodNumber,coerce:t?.coerce||!1,...ne(t)});class vn extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==D.bigint)return this._getInvalidInput(e);let n;const s=new Fe;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),I(n,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):le.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_type,expected:D.bigint,received:r.parsedType}),Z}gte(e,r){return this.setLimit("min",e,!0,L.toString(r))}gt(e,r){return this.setLimit("min",e,!1,L.toString(r))}lte(e,r){return this.setLimit("max",e,!0,L.toString(r))}lt(e,r){return this.setLimit("max",e,!1,L.toString(r))}setLimit(e,r,n,s){return new vn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:L.toString(s)}]})}_addCheck(e){return new vn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vn.create=t=>new vn({checks:[],typeName:J.ZodBigInt,coerce:t?.coerce??!1,...ne(t)});class Wl extends ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.boolean,received:n.parsedType}),Z}return ze(e.data)}}Wl.create=t=>new Wl({typeName:J.ZodBoolean,coerce:t?.coerce||!1,...ne(t)});class ws extends ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){const o=this._getOrReturnCtx(e);return I(o,{code:R.invalid_type,expected:D.date,received:o.parsedType}),Z}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return I(o,{code:R.invalid_date}),Z}const n=new Fe;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):le.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:L.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:L.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ws.create=t=>new ws({checks:[],coerce:t?.coerce||!1,typeName:J.ZodDate,...ne(t)});class zl extends ae{_parse(e){if(this._getType(e)!==D.symbol){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.symbol,received:n.parsedType}),Z}return ze(e.data)}}zl.create=t=>new zl({typeName:J.ZodSymbol,...ne(t)});class Kl extends ae{_parse(e){if(this._getType(e)!==D.undefined){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.undefined,received:n.parsedType}),Z}return ze(e.data)}}Kl.create=t=>new Kl({typeName:J.ZodUndefined,...ne(t)});class Hl extends ae{_parse(e){if(this._getType(e)!==D.null){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.null,received:n.parsedType}),Z}return ze(e.data)}}Hl.create=t=>new Hl({typeName:J.ZodNull,...ne(t)});class Gl extends ae{constructor(){super(...arguments),this._any=!0}_parse(e){return ze(e.data)}}Gl.create=t=>new Gl({typeName:J.ZodAny,...ne(t)});class Zl extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ze(e.data)}}Zl.create=t=>new Zl({typeName:J.ZodUnknown,...ne(t)});class Bt extends ae{_parse(e){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_type,expected:D.never,received:r.parsedType}),Z}}Bt.create=t=>new Bt({typeName:J.ZodNever,...ne(t)});class Jl extends ae{_parse(e){if(this._getType(e)!==D.undefined){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.void,received:n.parsedType}),Z}return ze(e.data)}}Jl.create=t=>new Jl({typeName:J.ZodVoid,...ne(t)});class ut extends ae{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==D.array)return I(r,{code:R.invalid_type,expected:D.array,received:r.parsedType}),Z;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(I(r,{code:i?R.too_big:R.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(I(r,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(I(r,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new Ut(r,i,r.path,a)))).then(i=>Fe.mergeArray(n,i));const o=[...r.data].map((i,a)=>s.type._parseSync(new Ut(r,i,r.path,a)));return Fe.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new ut({...this._def,minLength:{value:e,message:L.toString(r)}})}max(e,r){return new ut({...this._def,maxLength:{value:e,message:L.toString(r)}})}length(e,r){return new ut({...this._def,exactLength:{value:e,message:L.toString(r)}})}nonempty(e){return this.min(1,e)}}ut.create=(t,e)=>new ut({type:t,minLength:null,maxLength:null,exactLength:null,typeName:J.ZodArray,...ne(e)});function Sr(t){if(t instanceof xe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=$t.create(Sr(n))}return new xe({...t._def,shape:()=>e})}else return t instanceof ut?new ut({...t._def,type:Sr(t.element)}):t instanceof $t?$t.create(Sr(t.unwrap())):t instanceof Fr?Fr.create(Sr(t.unwrap())):t instanceof sr?sr.create(t.items.map(e=>Sr(e))):t}class xe extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=le.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==D.object){const c=this._getOrReturnCtx(e);return I(c,{code:R.invalid_type,expected:D.object,received:c.parsedType}),Z}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bt&&this._def.unknownKeys==="strip"))for(const c in s.data)i.includes(c)||a.push(c);const l=[];for(const c of i){const u=o[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ut(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Bt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(I(s,{code:R.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ut(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,m=await u.value;c.push({key:h,value:m,alwaysSet:u.alwaysSet})}return c}).then(c=>Fe.mergeObjectSync(n,c)):Fe.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return L.errToObj,new xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:L.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new xe({...this._def,unknownKeys:"strip"})}passthrough(){return new xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:J.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new xe({...this._def,catchall:e})}pick(e){const r={};for(const n of le.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new xe({...this._def,shape:()=>r})}omit(e){const r={};for(const n of le.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new xe({...this._def,shape:()=>r})}deepPartial(){return Sr(this)}partial(e){const r={};for(const n of le.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new xe({...this._def,shape:()=>r})}required(e){const r={};for(const n of le.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof $t;)o=o._def.innerType;r[n]=o}return new xe({...this._def,shape:()=>r})}keyof(){return xh(le.objectKeys(this.shape))}}xe.create=(t,e)=>new xe({shape:()=>t,unknownKeys:"strip",catchall:Bt.create(),typeName:J.ZodObject,...ne(e)});xe.strictCreate=(t,e)=>new xe({shape:()=>t,unknownKeys:"strict",catchall:Bt.create(),typeName:J.ZodObject,...ne(e)});xe.lazycreate=(t,e)=>new xe({shape:t,unknownKeys:"strip",catchall:Bt.create(),typeName:J.ZodObject,...ne(e)});class bs extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(a=>new nt(a.ctx.common.issues));return I(r,{code:R.invalid_union,unionErrors:i}),Z}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(l=>new nt(l));return I(r,{code:R.invalid_union,unionErrors:a}),Z}}get options(){return this._def.options}}bs.create=(t,e)=>new bs({options:t,typeName:J.ZodUnion,...ne(e)});function di(t,e){const r=Pt(t),n=Pt(e);if(t===e)return{valid:!0,data:t};if(r===D.object&&n===D.object){const s=le.objectKeys(e),o=le.objectKeys(t).filter(a=>s.indexOf(a)!==-1),i={...t,...e};for(const a of o){const l=di(t[a],e[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(r===D.array&&n===D.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const i=t[o],a=e[o],l=di(i,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===D.date&&n===D.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xs extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,i)=>{if(Bl(o)||Bl(i))return Z;const a=di(o.value,i.value);return a.valid?((Vl(o)||Vl(i))&&r.dirty(),{status:r.value,value:a.data}):(I(n,{code:R.invalid_intersection_types}),Z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xs.create=(t,e,r)=>new xs({left:t,right:e,typeName:J.ZodIntersection,...ne(r)});class sr extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==D.array)return I(n,{code:R.invalid_type,expected:D.array,received:n.parsedType}),Z;if(n.data.length<this._def.items.length)return I(n,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ut(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>Fe.mergeArray(r,i)):Fe.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new sr({...this._def,rest:e})}}sr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sr({items:t,typeName:J.ZodTuple,rest:null,...ne(e)})};class Yl extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==D.map)return I(n,{code:R.invalid_type,expected:D.map,received:n.parsedType}),Z;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new Ut(n,a,n.path,[c,"key"])),value:o._parse(new Ut(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Z;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of i){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Z;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}Yl.create=(t,e,r)=>new Yl({valueType:e,keyType:t,typeName:J.ZodMap,...ne(r)});class yn extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==D.set)return I(n,{code:R.invalid_type,expected:D.set,received:n.parsedType}),Z;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(I(n,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(I(n,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Z;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>o._parse(new Ut(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(e,r){return new yn({...this._def,minSize:{value:e,message:L.toString(r)}})}max(e,r){return new yn({...this._def,maxSize:{value:e,message:L.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yn.create=(t,e)=>new yn({valueType:t,minSize:null,maxSize:null,typeName:J.ZodSet,...ne(e)});class Ql extends ae{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ql.create=(t,e)=>new Ql({getter:t,typeName:J.ZodLazy,...ne(e)});class Xl extends ae{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return I(r,{received:r.data,code:R.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xl.create=(t,e)=>new Xl({value:t,typeName:J.ZodLiteral,...ne(e)});function xh(t,e){return new $r({values:t,typeName:J.ZodEnum,...ne(e)})}class $r extends ae{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{expected:le.joinValues(n),received:r.parsedType,code:R.invalid_type}),Z}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return I(r,{received:r.data,code:R.invalid_enum_value,options:n}),Z}return ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return $r.create(e,{...this._def,...r})}exclude(e,r=this._def){return $r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}$r.create=xh;class ec extends ae{_parse(e){const r=le.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==D.string&&n.parsedType!==D.number){const s=le.objectValues(r);return I(n,{expected:le.joinValues(s),received:n.parsedType,code:R.invalid_type}),Z}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=le.objectValues(r);return I(n,{received:n.data,code:R.invalid_enum_value,options:s}),Z}return ze(e.data)}get enum(){return this._def.values}}ec.create=(t,e)=>new ec({values:t,typeName:J.ZodNativeEnum,...ne(e)});class _s extends ae{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==D.promise&&r.common.async===!1)return I(r,{code:R.invalid_type,expected:D.promise,received:r.parsedType}),Z;const n=r.parsedType===D.promise?r.data:Promise.resolve(r.data);return ze(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_s.create=(t,e)=>new _s({type:t,typeName:J.ZodPromise,...ne(e)});class Lr extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:i=>{I(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return Z;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?Z:l.status==="dirty"||r.value==="dirty"?Qr(l.value):l});{if(r.value==="aborted")return Z;const a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?Z:a.status==="dirty"||r.value==="dirty"?Qr(a.value):a}}if(s.type==="refinement"){const i=a=>{const l=s.refinement(a,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Z:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Z:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Mr(i))return Z;const a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Mr(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):Z);le.assertNever(s)}}Lr.create=(t,e,r)=>new Lr({schema:t,typeName:J.ZodEffects,effect:e,...ne(r)});Lr.createWithPreprocess=(t,e,r)=>new Lr({schema:e,effect:{type:"preprocess",transform:t},typeName:J.ZodEffects,...ne(r)});class $t extends ae{_parse(e){return this._getType(e)===D.undefined?ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:J.ZodOptional,...ne(e)});class Fr extends ae{_parse(e){return this._getType(e)===D.null?ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fr.create=(t,e)=>new Fr({innerType:t,typeName:J.ZodNullable,...ne(e)});class hi extends ae{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===D.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}hi.create=(t,e)=>new hi({innerType:t,typeName:J.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ne(e)});class fi extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ys(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new nt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new nt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}fi.create=(t,e)=>new fi({innerType:t,typeName:J.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ne(e)});class tc extends ae{_parse(e){if(this._getType(e)!==D.nan){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:D.nan,received:n.parsedType}),Z}return{status:"valid",value:e.data}}}tc.create=t=>new tc({typeName:J.ZodNaN,...ne(t)});class u_ extends ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Qi extends ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Z:o.status==="dirty"?(r.dirty(),Qr(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Z:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Qi({in:e,out:r,typeName:J.ZodPipeline})}}class pi extends ae{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Mr(s)&&(s.value=Object.freeze(s.value)),s);return ys(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}pi.create=(t,e)=>new pi({innerType:t,typeName:J.ZodReadonly,...ne(e)});var J;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(J||(J={}));const on=Mt.create;Bt.create;ut.create;const _h=xe.create;bs.create;xs.create;sr.create;$r.create;_s.create;$t.create;Fr.create;const d_=_h({email:on().email("Invalid email address"),password:on().min(6,"Password must be at least 6 characters"),fullName:on().min(2,"Name must be at least 2 characters")}),h_=_h({email:on().email("Invalid email address"),password:on().min(1,"Password is required")}),f_=()=>{const t=Fi(),{toast:e}=xn(),[r,n]=f.useState(!1),[s,o]=f.useState({email:"",password:"",fullName:""}),[i,a]=f.useState({email:"",password:""}),l=async u=>{u.preventDefault(),n(!0);try{const h=d_.parse(s),m=`${window.location.origin}/`,{error:p}=await Ee.auth.signUp({email:h.email,password:h.password,options:{emailRedirectTo:m,data:{full_name:h.fullName}}});p?p.message.includes("already registered")?e({title:"Account exists",description:"This email is already registered. Please sign in instead.",variant:"destructive"}):e({title:"Sign up failed",description:p.message,variant:"destructive"}):(e({title:"Success!",description:"Your account has been created. You can now sign in."}),t("/"))}catch(h){h instanceof nt&&e({title:"Validation error",description:h.errors[0].message,variant:"destructive"})}finally{n(!1)}},c=async u=>{u.preventDefault(),n(!0);try{const h=h_.parse(i),{error:m}=await Ee.auth.signInWithPassword({email:h.email,password:h.password});m?e({title:"Sign in failed",description:m.message,variant:"destructive"}):t("/")}catch(h){h instanceof nt&&e({title:"Validation error",description:h.errors[0].message,variant:"destructive"})}finally{n(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-primary/10",children:d.jsxs(It,{className:"w-full max-w-md shadow-strong",children:[d.jsxs(Hs,{className:"space-y-4 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"p-3 rounded-2xl bg-gradient-primary",children:d.jsx(pm,{className:"h-8 w-8 text-white"})})}),d.jsx(Gs,{className:"text-3xl",children:"Scalable File Management System"}),d.jsx(Zs,{children:"Secure file management made simple"})]}),d.jsx(Dt,{children:d.jsxs(Lx,{defaultValue:"signin",className:"w-full",children:[d.jsxs(yh,{className:"grid w-full grid-cols-2",children:[d.jsx(li,{value:"signin",children:"Sign In"}),d.jsx(li,{value:"signup",children:"Sign Up"})]}),d.jsx(ci,{value:"signin",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"signin-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Na,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(at,{id:"signin-email",type:"email",placeholder:"you@example.com",className:"pl-10",value:i.email,onChange:u=>a({...i,email:u.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"signin-password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Aa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(at,{id:"signin-password",type:"password",placeholder:"",className:"pl-10",value:i.password,onChange:u=>a({...i,password:u.target.value}),required:!0})]})]}),d.jsxs(ue,{type:"submit",className:"w-full",disabled:r,children:[r&&d.jsx(Pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]})]})}),d.jsx(ci,{value:"signup",children:d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"signup-name",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Em,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(at,{id:"signup-name",type:"text",placeholder:"John Doe",className:"pl-10",value:s.fullName,onChange:u=>o({...s,fullName:u.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"signup-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Na,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(at,{id:"signup-email",type:"email",placeholder:"you@example.com",className:"pl-10",value:s.email,onChange:u=>o({...s,email:u.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"signup-password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Aa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(at,{id:"signup-password",type:"password",placeholder:"",className:"pl-10",value:s.password,onChange:u=>o({...s,password:u.target.value}),required:!0})]})]}),d.jsxs(ue,{type:"submit",className:"w-full",disabled:r,children:[r&&d.jsx(Pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})})]})})]})})};var Xi="Progress",ea=100,[p_]=ht(Xi),[m_,g_]=p_(Xi),Eh=f.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=v_,...i}=t;(s||s===0)&&!rc(s)&&console.error(y_(`${s}`,"Progress"));const a=rc(s)?s:ea;n!==null&&!nc(n,a)&&console.error(w_(`${n}`,"Progress"));const l=nc(n,a)?n:null,c=Es(l)?o(l,a):void 0;return d.jsx(m_,{scope:r,value:l,max:a,children:d.jsx(oe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Es(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":kh(l,a),"data-value":l??void 0,"data-max":a,...i,ref:e})})});Eh.displayName=Xi;var Sh="ProgressIndicator",Ch=f.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=g_(Sh,r);return d.jsx(oe.div,{"data-state":kh(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});Ch.displayName=Sh;function v_(t,e){return`${Math.round(t/e*100)}%`}function kh(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Es(t){return typeof t=="number"}function rc(t){return Es(t)&&!isNaN(t)&&t>0}function nc(t,e){return Es(t)&&!isNaN(t)&&t<=e&&t>=0}function y_(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ea}\`.`}function w_(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ea} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Th=Eh,b_=Ch;const ta=f.forwardRef(({className:t,value:e,...r},n)=>d.jsx(Th,{ref:n,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(b_,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ta.displayName=Th.displayName;const x_=({currentFolder:t,onUploadComplete:e,onClose:r})=>{const{user:n}=Ks(),{toast:s}=xn(),[o,i]=f.useState([]),[a,l]=f.useState(!1),[c,u]=f.useState(!1),h=f.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l(!0)},[]),m=f.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l(!1)},[]),p=f.useCallback(E=>{E.preventDefault(),E.stopPropagation(),l(!1),y(E.dataTransfer.files)},[]),y=async E=>{if(!E||!n)return;const k=Array.from(E).filter(A=>A.size===0?(s({title:"Invalid file",description:`${A.name} is empty`,variant:"destructive"}),!1):!0);if(k.length===0)return;const P=k.map(A=>({id:Math.random().toString(36).substr(2,9),file:A,progress:0,status:"uploading"}));i(P),u(!0);for(let A=0;A<k.length;A++)await g(k[A],A);u(!1),e()},g=async(E,S)=>{try{const k=E.name.split(".").pop(),P=`${Math.random().toString(36).substr(2,9)}-${Date.now()}.${k}`,A=`${n.id}/${P}`;i(z=>z.map((j,H)=>H===S?{...j,progress:10}:j));const{data:W,error:U}=await Ee.storage.from("user-files").upload(A,E,{cacheControl:"3600",upsert:!1});if(U)throw console.error("Storage upload error:",U),U;i(z=>z.map((j,H)=>H===S?{...j,progress:80}:j));const{error:N}=await Ee.from("files").insert({name:E.name,original_name:E.name,file_type:E.type||"application/octet-stream",file_size:E.size,file_path:A,owner_id:n.id,folder_id:t});if(N)throw console.error("Database insert error:",N),N;i(z=>z.map((j,H)=>H===S?{...j,progress:100,status:"completed"}:j)),console.log("File uploaded successfully:",E.name)}catch(k){console.error("Upload error:",k),i(P=>P.map((A,W)=>W===S?{...A,status:"error",error:k.message||"Upload failed"}:A)),s({title:"Upload failed",description:`Failed to upload ${E.name}: ${k.message}`,variant:"destructive"})}},v=E=>{i(S=>S.filter(k=>k.id!==E))},w=E=>{if(E===0)return"0 Bytes";const S=1024,k=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(E)/Math.log(S));return Math.round(E/Math.pow(S,P)*100)/100+" "+k[P]},x=E=>{switch(E){case"completed":return d.jsx(hm,{className:"h-4 w-4 text-green-500 flex-shrink-0"});case"error":return d.jsx(dm,{className:"h-4 w-4 text-red-500 flex-shrink-0"});default:return d.jsx($o,{className:"h-4 w-4 text-blue-500 flex-shrink-0"})}},b=o.filter(E=>E.status==="completed").length,_=o.length;return d.jsxs(It,{className:"shadow-medium",children:[d.jsxs(Hs,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(Gs,{children:"Upload Files"}),d.jsx(Zs,{children:c?`Uploading... (${b}/${_})`:"Drag and drop files or click to browse"})]}),d.jsx(ue,{variant:"ghost",size:"icon",onClick:r,disabled:c,children:d.jsx(ls,{className:"h-4 w-4"})})]}),d.jsxs(Dt,{className:"space-y-4",children:[!c&&o.length===0&&d.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-smooth cursor-pointer ${a?"border-primary bg-primary/5":"border-border hover:border-primary"}`,onDragOver:h,onDragLeave:m,onDrop:p,onClick:()=>document.getElementById("file-input")?.click(),children:[d.jsx(Zc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("p",{className:"text-lg font-medium mb-2",children:"Drop files here or click to browse"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Support for all file types"}),d.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",onChange:E=>y(E.target.files)})]}),o.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"font-medium text-sm",children:c?"Uploading Files...":"Upload Results"}),o.map((E,S)=>d.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-secondary/50 relative",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[x(E.status),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-sm truncate",children:E.file.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:w(E.file.size)})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-muted-foreground ml-2 flex-shrink-0",children:E.status==="completed"?"Complete":E.status==="error"?"Failed":`${Math.round(E.progress)}%`}),!c&&d.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>v(E.id),children:d.jsx(ls,{className:"h-3 w-3"})})]})]}),E.status==="uploading"&&d.jsx(ta,{value:E.progress,className:"h-1"}),E.status==="error"&&d.jsx("p",{className:"text-xs text-destructive",children:E.error})]},E.id)),!c&&d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx(ue,{onClick:()=>i([]),variant:"outline",className:"flex-1",children:"Clear List"}),d.jsx(ue,{onClick:()=>document.getElementById("file-input")?.click(),className:"flex-1",children:"Add More Files"})]})]})]})]})};var ko=0;function Rh(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sc()),document.body.insertAdjacentElement("beforeend",t[1]??sc()),ko++,()=>{ko===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ko--}},[])}function sc(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var To="focusScope.autoFocusOnMount",Ro="focusScope.autoFocusOnUnmount",oc={bubbles:!1,cancelable:!0},__="FocusScope",ra=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=f.useState(null),c=Le(s),u=Le(o),h=f.useRef(null),m=we(e,g=>l(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(b){if(p.paused||!a)return;const _=b.target;a.contains(_)?h.current=_:Ot(h.current,{select:!0})},v=function(b){if(p.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||Ot(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Ot(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,a,p.paused]),f.useEffect(()=>{if(a){ac.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(To,oc);a.addEventListener(To,c),a.dispatchEvent(w),w.defaultPrevented||(E_(R_(jh(a)),{select:!0}),document.activeElement===g&&Ot(a))}return()=>{a.removeEventListener(To,c),setTimeout(()=>{const w=new CustomEvent(Ro,oc);a.addEventListener(Ro,u),a.dispatchEvent(w),w.defaultPrevented||Ot(g??document.body,{select:!0}),a.removeEventListener(Ro,u),ac.remove(p)},0)}}},[a,c,u,p]);const y=f.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const x=g.currentTarget,[b,_]=S_(x);b&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&Ot(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&Ot(_,{select:!0})):w===x&&g.preventDefault()}},[r,n,p.paused]);return d.jsx(oe.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});ra.displayName=__;function E_(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ot(n,{select:e}),document.activeElement!==r)return}function S_(t){const e=jh(t),r=ic(e,t),n=ic(e.reverse(),t);return[r,n]}function jh(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ic(t,e){for(const r of t)if(!C_(r,{upTo:e}))return r}function C_(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function k_(t){return t instanceof HTMLInputElement&&"select"in t}function Ot(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&k_(t)&&e&&t.select()}}var ac=T_();function T_(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=lc(t,e),t.unshift(e)},remove(e){t=lc(t,e),t[0]?.resume()}}}function lc(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function R_(t){return t.filter(e=>e.tagName!=="A")}var j_=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wr=new WeakMap,Jn=new WeakMap,Yn={},jo=0,Oh=function(t){return t&&(t.host||Oh(t.parentNode))},O_=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Oh(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},P_=function(t,e,r,n){var s=O_(e,Array.isArray(t)?t:[t]);Yn[r]||(Yn[r]=new WeakMap);var o=Yn[r],i=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))u(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=(wr.get(m)||0)+1,v=(o.get(m)||0)+1;wr.set(m,g),o.set(m,v),i.push(m),g===1&&y&&Jn.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return u(e),a.clear(),jo++,function(){i.forEach(function(h){var m=wr.get(h)-1,p=o.get(h)-1;wr.set(h,m),o.set(h,p),m||(Jn.has(h)||h.removeAttribute(n),Jn.delete(h)),p||h.removeAttribute(r)}),jo--,jo||(wr=new WeakMap,wr=new WeakMap,Jn=new WeakMap,Yn={})}},Ph=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=j_(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),P_(n,s,r,"aria-hidden")):function(){return null}},is="right-scroll-bar-position",as="width-before-scroll-bar",A_="with-scroll-bars-hidden",N_="--removed-body-scroll-bar-size";function Oo(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function I_(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var D_=typeof window<"u"?f.useLayoutEffect:f.useEffect,cc=new WeakMap;function M_(t,e){var r=I_(null,function(n){return t.forEach(function(s){return Oo(s,n)})});return D_(function(){var n=cc.get(r);if(n){var s=new Set(n),o=new Set(t),i=r.current;s.forEach(function(a){o.has(a)||Oo(a,null)}),o.forEach(function(a){s.has(a)||Oo(a,i)})}cc.set(r,t)},[t]),r}function $_(t){return t}function L_(t,e){e===void 0&&(e=$_);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=e(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return s}function F_(t){t===void 0&&(t={});var e=L_(null);return e.options=qe({async:!0,ssr:!1},t),e}var Ah=function(t){var e=t.sideCar,r=Vt(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,qe({},r))};Ah.isSideCarExport=!0;function U_(t,e){return t.useMedium(e),Ah}var Nh=F_(),Po=function(){},Qs=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:Po,onWheelCapture:Po,onTouchMoveCapture:Po}),s=n[0],o=n[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,p=t.noRelative,y=t.noIsolation,g=t.inert,v=t.allowPinchZoom,w=t.as,x=w===void 0?"div":w,b=t.gapMode,_=Vt(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,S=M_([r,e]),k=qe(qe({},_),s);return f.createElement(f.Fragment,null,u&&f.createElement(E,{sideCar:Nh,removeScrollBar:c,shards:h,noRelative:p,noIsolation:y,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?f.cloneElement(f.Children.only(a),qe(qe({},k),{ref:S})):f.createElement(x,qe({},k,{className:l,ref:S}),a))});Qs.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qs.classNames={fullWidth:as,zeroRight:is};var B_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V_(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=B_();return e&&t.setAttribute("nonce",e),t}function q_(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function W_(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z_=function(){var t=0,e=null;return{add:function(r){t==0&&(e=V_())&&(q_(e,r),W_(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},K_=function(){var t=z_();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Ih=function(){var t=K_(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},H_={left:0,top:0,right:0,gap:0},Ao=function(t){return parseInt(t||"",10)||0},G_=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ao(r),Ao(n),Ao(s)]},Z_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H_;var e=G_(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},J_=Ih(),Or="data-scroll-locked",Y_=function(t,e,r,n){var s=t.left,o=t.top,i=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(A_,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Or,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(is,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(as,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(is," .").concat(is,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(as," .").concat(as,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Or,`] {
    `).concat(N_,": ").concat(a,`px;
  }
`)},uc=function(){var t=parseInt(document.body.getAttribute(Or)||"0",10);return isFinite(t)?t:0},Q_=function(){f.useEffect(function(){return document.body.setAttribute(Or,(uc()+1).toString()),function(){var t=uc()-1;t<=0?document.body.removeAttribute(Or):document.body.setAttribute(Or,t.toString())}},[])},X_=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Q_();var o=f.useMemo(function(){return Z_(s)},[s]);return f.createElement(J_,{styles:Y_(o,!e,s,r?"":"!important")})},mi=!1;if(typeof window<"u")try{var Qn=Object.defineProperty({},"passive",{get:function(){return mi=!0,!0}});window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{mi=!1}var br=mi?{passive:!1}:!1,eE=function(t){return t.tagName==="TEXTAREA"},Dh=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!eE(t)&&r[e]==="visible")},tE=function(t){return Dh(t,"overflowY")},rE=function(t){return Dh(t,"overflowX")},dc=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Mh(t,n);if(s){var o=$h(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nE=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},sE=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Mh=function(t,e){return t==="v"?tE(e):rE(e)},$h=function(t,e){return t==="v"?nE(e):sE(e)},oE=function(t,e){return t==="h"&&e==="rtl"?-1:1},iE=function(t,e,r,n,s){var o=oE(t,window.getComputedStyle(e).direction),i=o*n,a=r.target,l=e.contains(a),c=!1,u=i>0,h=0,m=0;do{if(!a)break;var p=$h(t,a),y=p[0],g=p[1],v=p[2],w=g-v-o*y;(y||w)&&Mh(t,a)&&(h+=w,m+=y);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(c=!0),c},Xn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hc=function(t){return[t.deltaX,t.deltaY]},fc=function(t){return t&&"current"in t?t.current:t},aE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},lE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cE=0,xr=[];function uE(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(cE++)[0],o=f.useState(Ih)[0],i=f.useRef(t);f.useEffect(function(){i.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Bi([t.lockRef.current],(t.shards||[]).map(fc),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=Xn(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-w[0],_="deltaY"in g?g.deltaY:x[1]-w[1],E,S=g.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var P=dc(k,S);if(!P)return!0;if(P?E=k:(E=k==="v"?"h":"v",P=dc(k,S)),!P)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=E),!E)return!0;var A=n.current||E;return iE(A,v,g,A==="h"?b:_)},[]),l=f.useCallback(function(g){var v=g;if(!(!xr.length||xr[xr.length-1]!==o)){var w="deltaY"in v?hc(v):Xn(v),x=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&aE(E.delta,w)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(fc).filter(Boolean).filter(function(E){return E.contains(v.target)}),_=b.length>0?a(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=f.useCallback(function(g,v,w,x){var b={name:g,delta:v,target:w,should:x,shadowParent:dE(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),u=f.useCallback(function(g){r.current=Xn(g),n.current=void 0},[]),h=f.useCallback(function(g){c(g.type,hc(g),g.target,a(g,t.lockRef.current))},[]),m=f.useCallback(function(g){c(g.type,Xn(g),g.target,a(g,t.lockRef.current))},[]);f.useEffect(function(){return xr.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,br),document.addEventListener("touchmove",l,br),document.addEventListener("touchstart",u,br),function(){xr=xr.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,br),document.removeEventListener("touchmove",l,br),document.removeEventListener("touchstart",u,br)}},[]);var p=t.removeScrollBar,y=t.inert;return f.createElement(f.Fragment,null,y?f.createElement(o,{styles:lE(s)}):null,p?f.createElement(X_,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function dE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hE=U_(Nh,uE);var na=f.forwardRef(function(t,e){return f.createElement(Qs,qe({},t,{ref:e,sideCar:hE}))});na.classNames=Qs.classNames;var gi=["Enter"," "],fE=["ArrowDown","PageUp","Home"],Lh=["ArrowUp","PageDown","End"],pE=[...fE,...Lh],mE={ltr:[...gi,"ArrowRight"],rtl:[...gi,"ArrowLeft"]},gE={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rn="Menu",[wn,vE,yE]=wi(Rn),[ar,Fh]=ht(Rn,[yE,Ms,Js]),Xs=Ms(),Uh=Js(),[wE,lr]=ar(Rn),[bE,jn]=ar(Rn),Bh=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=t,a=Xs(e),[l,c]=f.useState(null),u=f.useRef(!1),h=Le(o),m=Ji(s);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),d.jsx(oy,{...a,children:d.jsx(wE,{scope:e,open:r,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(bE,{scope:e,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:i,children:n})})})};Bh.displayName=Rn;var xE="MenuAnchor",sa=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Xs(r);return d.jsx(Tu,{...s,...n,ref:e})});sa.displayName=xE;var oa="MenuPortal",[_E,Vh]=ar(oa,{forceMount:void 0}),qh=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=lr(oa,e);return d.jsx(_E,{scope:e,forceMount:r,children:d.jsx(st,{present:r||o.open,children:d.jsx(js,{asChild:!0,container:s,children:n})})})};qh.displayName=oa;var We="MenuContent",[EE,ia]=ar(We),Wh=f.forwardRef((t,e)=>{const r=Vh(We,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=lr(We,t.__scopeMenu),i=jn(We,t.__scopeMenu);return d.jsx(wn.Provider,{scope:t.__scopeMenu,children:d.jsx(st,{present:n||o.open,children:d.jsx(wn.Slot,{scope:t.__scopeMenu,children:i.modal?d.jsx(SE,{...s,ref:e}):d.jsx(CE,{...s,ref:e})})})})}),SE=f.forwardRef((t,e)=>{const r=lr(We,t.__scopeMenu),n=f.useRef(null),s=we(e,n);return f.useEffect(()=>{const o=n.current;if(o)return Ph(o)},[]),d.jsx(aa,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:F(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),CE=f.forwardRef((t,e)=>{const r=lr(We,t.__scopeMenu);return d.jsx(aa,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),kE=Pr("MenuContent.ScrollLock"),aa=f.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=t,v=lr(We,r),w=jn(We,r),x=Xs(r),b=Uh(r),_=vE(r),[E,S]=f.useState(null),k=f.useRef(null),P=we(e,k,v.onContentChange),A=f.useRef(0),W=f.useRef(""),U=f.useRef(0),N=f.useRef(null),z=f.useRef("right"),j=f.useRef(0),H=y?na:f.Fragment,B=y?{as:kE,allowPinchZoom:!0}:void 0,Y=T=>{const te=W.current+T,ce=_().filter(K=>!K.disabled),X=document.activeElement,re=ce.find(K=>K.ref.current===X)?.textValue,se=ce.map(K=>K.textValue),ve=LE(se,te,re),Ce=ce.find(K=>K.textValue===ve)?.ref.current;(function K(Ue){W.current=Ue,window.clearTimeout(A.current),Ue!==""&&(A.current=window.setTimeout(()=>K(""),1e3))})(te),Ce&&setTimeout(()=>Ce.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),Rh();const $=f.useCallback(T=>z.current===N.current?.side&&UE(T,N.current?.area),[]);return d.jsx(EE,{scope:r,searchRef:W,onItemEnter:f.useCallback(T=>{$(T)&&T.preventDefault()},[$]),onItemLeave:f.useCallback(T=>{$(T)||(k.current?.focus(),S(null))},[$]),onTriggerLeave:f.useCallback(T=>{$(T)&&T.preventDefault()},[$]),pointerGraceTimerRef:U,onPointerGraceIntentChange:f.useCallback(T=>{N.current=T},[]),children:d.jsx(H,{...B,children:d.jsx(ra,{asChild:!0,trapped:s,onMountAutoFocus:F(o,T=>{T.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:d.jsx(_n,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:d.jsx(nh,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:S,onEntryFocus:F(l,T=>{w.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Ru,{role:"menu","aria-orientation":"vertical","data-state":af(v.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:F(g.onKeyDown,T=>{const ce=T.target.closest("[data-radix-menu-content]")===T.currentTarget,X=T.ctrlKey||T.altKey||T.metaKey,re=T.key.length===1;ce&&(T.key==="Tab"&&T.preventDefault(),!X&&re&&Y(T.key));const se=k.current;if(T.target!==se||!pE.includes(T.key))return;T.preventDefault();const Ce=_().filter(K=>!K.disabled).map(K=>K.ref.current);Lh.includes(T.key)&&Ce.reverse(),ME(Ce)}),onBlur:F(t.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(A.current),W.current="")}),onPointerMove:F(t.onPointerMove,bn(T=>{const te=T.target,ce=j.current!==T.clientX;if(T.currentTarget.contains(te)&&ce){const X=T.clientX>j.current?"right":"left";z.current=X,j.current=T.clientX}}))})})})})})})});Wh.displayName=We;var TE="MenuGroup",la=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(oe.div,{role:"group",...n,ref:e})});la.displayName=TE;var RE="MenuLabel",zh=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(oe.div,{...n,ref:e})});zh.displayName=RE;var Ss="MenuItem",pc="menu.itemSelect",eo=f.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=f.useRef(null),i=jn(Ss,t.__scopeMenu),a=ia(Ss,t.__scopeMenu),l=we(e,o),c=f.useRef(!1),u=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(pc,{bubbles:!0,cancelable:!0});h.addEventListener(pc,p=>n?.(p),{once:!0}),bi(h,m),m.defaultPrevented?c.current=!1:i.onClose()}};return d.jsx(Kh,{...s,ref:l,disabled:r,onClick:F(t.onClick,u),onPointerDown:h=>{t.onPointerDown?.(h),c.current=!0},onPointerUp:F(t.onPointerUp,h=>{c.current||h.currentTarget?.click()}),onKeyDown:F(t.onKeyDown,h=>{const m=a.searchRef.current!=="";r||m&&h.key===" "||gi.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});eo.displayName=Ss;var Kh=f.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,i=ia(Ss,r),a=Uh(r),l=f.useRef(null),c=we(e,l),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const y=l.current;y&&p((y.textContent??"").trim())},[o.children]),d.jsx(wn.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:d.jsx(sh,{asChild:!0,...a,focusable:!n,children:d.jsx(oe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:F(t.onPointerMove,bn(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:F(t.onPointerLeave,bn(y=>i.onItemLeave(y))),onFocus:F(t.onFocus,()=>h(!0)),onBlur:F(t.onBlur,()=>h(!1))})})})}),jE="MenuCheckboxItem",Hh=f.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return d.jsx(Qh,{scope:t.__scopeMenu,checked:r,children:d.jsx(eo,{role:"menuitemcheckbox","aria-checked":Cs(r)?"mixed":r,...s,ref:e,"data-state":ua(r),onSelect:F(s.onSelect,()=>n?.(Cs(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Hh.displayName=jE;var Gh="MenuRadioGroup",[OE,PE]=ar(Gh,{value:void 0,onValueChange:()=>{}}),Zh=f.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=Le(n);return d.jsx(OE,{scope:t.__scopeMenu,value:r,onValueChange:o,children:d.jsx(la,{...s,ref:e})})});Zh.displayName=Gh;var Jh="MenuRadioItem",Yh=f.forwardRef((t,e)=>{const{value:r,...n}=t,s=PE(Jh,t.__scopeMenu),o=r===s.value;return d.jsx(Qh,{scope:t.__scopeMenu,checked:o,children:d.jsx(eo,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":ua(o),onSelect:F(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Yh.displayName=Jh;var ca="MenuItemIndicator",[Qh,AE]=ar(ca,{checked:!1}),Xh=f.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=AE(ca,r);return d.jsx(st,{present:n||Cs(o.checked)||o.checked===!0,children:d.jsx(oe.span,{...s,ref:e,"data-state":ua(o.checked)})})});Xh.displayName=ca;var NE="MenuSeparator",ef=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});ef.displayName=NE;var IE="MenuArrow",tf=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=Xs(r);return d.jsx(ju,{...s,...n,ref:e})});tf.displayName=IE;var DE="MenuSub",[rC,rf]=ar(DE),Xr="MenuSubTrigger",nf=f.forwardRef((t,e)=>{const r=lr(Xr,t.__scopeMenu),n=jn(Xr,t.__scopeMenu),s=rf(Xr,t.__scopeMenu),o=ia(Xr,t.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(sa,{asChild:!0,...c,children:d.jsx(Kh,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":af(r.open),...t,ref:Rs(e,s.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:F(t.onPointerMove,bn(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:F(t.onPointerLeave,bn(h=>{u();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,y=p==="right",g=y?-5:5,v=m[y?"left":"right"],w=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:F(t.onKeyDown,h=>{const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||mE[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});nf.displayName=Xr;var sf="MenuSubContent",of=f.forwardRef((t,e)=>{const r=Vh(We,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=lr(We,t.__scopeMenu),i=jn(We,t.__scopeMenu),a=rf(sf,t.__scopeMenu),l=f.useRef(null),c=we(e,l);return d.jsx(wn.Provider,{scope:t.__scopeMenu,children:d.jsx(st,{present:n||o.open,children:d.jsx(wn.Slot,{scope:t.__scopeMenu,children:d.jsx(aa,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:F(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:F(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:F(t.onKeyDown,u=>{const h=u.currentTarget.contains(u.target),m=gE[i.dir].includes(u.key);h&&m&&(o.onOpenChange(!1),a.trigger?.focus(),u.preventDefault())})})})})})});of.displayName=sf;function af(t){return t?"open":"closed"}function Cs(t){return t==="indeterminate"}function ua(t){return Cs(t)?"indeterminate":t?"checked":"unchecked"}function ME(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function $E(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function LE(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=$E(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function FE(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],c=a.x,u=a.y,h=l.x,m=l.y;u>n!=m>n&&r<(h-c)*(n-u)/(m-u)+c&&(s=!s)}return s}function UE(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return FE(r,e)}function bn(t){return e=>e.pointerType==="mouse"?t(e):void 0}var BE=Bh,VE=sa,qE=qh,WE=Wh,zE=la,KE=zh,HE=eo,GE=Hh,ZE=Zh,JE=Yh,YE=Xh,QE=ef,XE=tf,eS=nf,tS=of,to="DropdownMenu",[rS]=ht(to,[Fh]),je=Fh(),[nS,lf]=rS(to),cf=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,l=je(e),c=f.useRef(null),[u,h]=En({prop:s,defaultProp:o??!1,onChange:i,caller:to});return d.jsx(nS,{scope:e,triggerId:tr(),triggerRef:c,contentId:tr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:a,children:d.jsx(BE,{...l,open:u,onOpenChange:h,dir:n,modal:a,children:r})})};cf.displayName=to;var uf="DropdownMenuTrigger",df=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=lf(uf,r),i=je(r);return d.jsx(VE,{asChild:!0,...i,children:d.jsx(oe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rs(e,o.triggerRef),onPointerDown:F(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:F(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});df.displayName=uf;var sS="DropdownMenuPortal",hf=t=>{const{__scopeDropdownMenu:e,...r}=t,n=je(e);return d.jsx(qE,{...n,...r})};hf.displayName=sS;var ff="DropdownMenuContent",pf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=lf(ff,r),o=je(r),i=f.useRef(!1);return d.jsx(WE,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:F(t.onCloseAutoFocus,a=>{i.current||s.triggerRef.current?.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:F(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pf.displayName=ff;var oS="DropdownMenuGroup",iS=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(zE,{...s,...n,ref:e})});iS.displayName=oS;var aS="DropdownMenuLabel",mf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(KE,{...s,...n,ref:e})});mf.displayName=aS;var lS="DropdownMenuItem",gf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(HE,{...s,...n,ref:e})});gf.displayName=lS;var cS="DropdownMenuCheckboxItem",vf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(GE,{...s,...n,ref:e})});vf.displayName=cS;var uS="DropdownMenuRadioGroup",dS=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(ZE,{...s,...n,ref:e})});dS.displayName=uS;var hS="DropdownMenuRadioItem",yf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(JE,{...s,...n,ref:e})});yf.displayName=hS;var fS="DropdownMenuItemIndicator",wf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(YE,{...s,...n,ref:e})});wf.displayName=fS;var pS="DropdownMenuSeparator",bf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(QE,{...s,...n,ref:e})});bf.displayName=pS;var mS="DropdownMenuArrow",gS=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(XE,{...s,...n,ref:e})});gS.displayName=mS;var vS="DropdownMenuSubTrigger",xf=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(eS,{...s,...n,ref:e})});xf.displayName=vS;var yS="DropdownMenuSubContent",_f=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=je(r);return d.jsx(tS,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_f.displayName=yS;var wS=cf,bS=df,xS=hf,Ef=pf,Sf=mf,Cf=gf,kf=vf,Tf=yf,Rf=wf,jf=bf,Of=xf,Pf=_f;const es=wS,ts=bS,_S=f.forwardRef(({className:t,inset:e,children:r,...n},s)=>d.jsxs(Of,{ref:s,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,d.jsx(Gc,{className:"ml-auto h-4 w-4"})]}));_S.displayName=Of.displayName;const ES=f.forwardRef(({className:t,...e},r)=>d.jsx(Pf,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ES.displayName=Pf.displayName;const en=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(xS,{children:d.jsx(Ef,{ref:n,sideOffset:e,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));en.displayName=Ef.displayName;const Ae=f.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(Cf,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Ae.displayName=Cf.displayName;const SS=f.forwardRef(({className:t,children:e,checked:r,...n},s)=>d.jsxs(kf,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Rf,{children:d.jsx(Hc,{className:"h-4 w-4"})})}),e]}));SS.displayName=kf.displayName;const CS=f.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Tf,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Rf,{children:d.jsx(fm,{className:"h-2 w-2 fill-current"})})}),e]}));CS.displayName=Tf.displayName;const kS=f.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(Sf,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));kS.displayName=Sf.displayName;const TS=f.forwardRef(({className:t,...e},r)=>d.jsx(jf,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));TS.displayName=jf.displayName;var ro="Dialog",[Af]=ht(ro),[RS,ot]=Af(ro),Nf=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=f.useRef(null),l=f.useRef(null),[c,u]=En({prop:n,defaultProp:s??!1,onChange:o,caller:ro});return d.jsx(RS,{scope:e,triggerRef:a,contentRef:l,contentId:tr(),titleId:tr(),descriptionId:tr(),open:c,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:i,children:r})};Nf.displayName=ro;var If="DialogTrigger",jS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ot(If,r),o=we(e,s.triggerRef);return d.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fa(s.open),...n,ref:o,onClick:F(t.onClick,s.onOpenToggle)})});jS.displayName=If;var da="DialogPortal",[OS,Df]=Af(da,{forceMount:void 0}),Mf=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=ot(da,e);return d.jsx(OS,{scope:e,forceMount:r,children:f.Children.map(n,i=>d.jsx(st,{present:r||o.open,children:d.jsx(js,{asChild:!0,container:s,children:i})}))})};Mf.displayName=da;var ks="DialogOverlay",$f=f.forwardRef((t,e)=>{const r=Df(ks,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ot(ks,t.__scopeDialog);return o.modal?d.jsx(st,{present:n||o.open,children:d.jsx(AS,{...s,ref:e})}):null});$f.displayName=ks;var PS=Pr("DialogOverlay.RemoveScroll"),AS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ot(ks,r);return d.jsx(na,{as:PS,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(oe.div,{"data-state":fa(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),or="DialogContent",Lf=f.forwardRef((t,e)=>{const r=Df(or,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ot(or,t.__scopeDialog);return d.jsx(st,{present:n||o.open,children:o.modal?d.jsx(NS,{...s,ref:e}):d.jsx(IS,{...s,ref:e})})});Lf.displayName=or;var NS=f.forwardRef((t,e)=>{const r=ot(or,t.__scopeDialog),n=f.useRef(null),s=we(e,r.contentRef,n);return f.useEffect(()=>{const o=n.current;if(o)return Ph(o)},[]),d.jsx(Ff,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:F(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:F(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:F(t.onFocusOutside,o=>o.preventDefault())})}),IS=f.forwardRef((t,e)=>{const r=ot(or,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return d.jsx(Ff,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Ff=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=ot(or,r),l=f.useRef(null),c=we(e,l);return Rh(),d.jsxs(d.Fragment,{children:[d.jsx(ra,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(_n,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":fa(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(DS,{titleId:a.titleId}),d.jsx($S,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ha="DialogTitle",Uf=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ot(ha,r);return d.jsx(oe.h2,{id:s.titleId,...n,ref:e})});Uf.displayName=ha;var Bf="DialogDescription",Vf=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ot(Bf,r);return d.jsx(oe.p,{id:s.descriptionId,...n,ref:e})});Vf.displayName=Bf;var qf="DialogClose",Wf=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ot(qf,r);return d.jsx(oe.button,{type:"button",...n,ref:e,onClick:F(t.onClick,()=>s.onOpenChange(!1))})});Wf.displayName=qf;function fa(t){return t?"open":"closed"}var zf="DialogTitleWarning",[nC,Kf]=gp(zf,{contentName:or,titleName:ha,docsSlug:"dialog"}),DS=({titleId:t})=>{const e=Kf(zf),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},MS="DialogDescriptionWarning",$S=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kf(MS).contentName}}.`;return f.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},LS=Nf,FS=Mf,Hf=$f,Gf=Lf,Zf=Uf,Jf=Vf,US=Wf;const Cr=LS,BS=FS,Yf=f.forwardRef(({className:t,...e},r)=>d.jsx(Hf,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Yf.displayName=Hf.displayName;const Jt=f.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(BS,{children:[d.jsx(Yf,{}),d.jsxs(Gf,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(US,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jt.displayName=Gf.displayName;const Yt=({className:t,...e})=>d.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Yt.displayName="DialogHeader";const Qt=({className:t,...e})=>d.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Qt.displayName="DialogFooter";const Xt=f.forwardRef(({className:t,...e},r)=>d.jsx(Zf,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));Xt.displayName=Zf.displayName;const kr=f.forwardRef(({className:t,...e},r)=>d.jsx(Jf,{ref:r,className:ie("text-sm text-muted-foreground",t),...e}));kr.displayName=Jf.displayName;const VS=As("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mc({className:t,variant:e,...r}){return d.jsx("div",{className:ie(VS({variant:e}),t),...r})}const qS=({currentFolder:t,onFolderChange:e,onRefresh:r})=>{const{user:n}=Ks(),{toast:s}=xn(),[o,i]=f.useState([]),[a,l]=f.useState([]),[c,u]=f.useState(!0),[h,m]=f.useState("grid"),[p,y]=f.useState({open:!1,file:null}),[g,v]=f.useState({open:!1,folder:null}),[w,x]=f.useState(""),[b,_]=f.useState(""),[E,S]=f.useState({open:!1,file:null}),[k,P]=f.useState(""),[A,W]=f.useState(!1),[U,N]=f.useState({open:!1,item:null,type:null}),[z,j]=f.useState({open:!1,file:null}),[H,B]=f.useState(""),[Y,$]=f.useState([{id:null,name:"All Files"}]);f.useEffect(()=>{T(),te(t)},[t,n]);const T=async()=>{if(n){console.log("Loading data for folder:",t),u(!0);try{const{data:C,error:V}=await Ee.from("folders").select("*").eq("owner_id",n.id).order("name");if(V)throw console.error("Folders error:",V),V;const Be=(C||[]).filter(Pe=>t===null?Pe.parent_id===null:Pe.parent_id===t);l(Be),console.log("Loaded folders:",Be.length);const{data:ke,error:ye}=await Ee.from("files").select("*").eq("owner_id",n.id).eq("is_deleted",!1).order("created_at",{ascending:!1});if(ye)throw console.error("Files error:",ye),ye;const ur=(ke||[]).filter(Pe=>t===null?Pe.folder_id===null:Pe.folder_id===t);i(ur),console.log("Loaded files:",ur.length)}catch(C){console.error("Load data error:",C),s({title:"Error loading files",description:C.message,variant:"destructive"})}finally{u(!1)}}},te=async C=>{if(!C){$([{id:null,name:"All Files"}]);return}try{const V=async ke=>{if(!ke)return[{id:null,name:"All Files"}];const{data:ye}=await Ee.from("folders").select("id, name, parent_id").eq("id",ke).single();return ye?[...await V(ye.parent_id),{id:ye.id,name:ye.name}]:[{id:null,name:"All Files"}]},Be=await V(C);$(Be)}catch(V){console.error("Error loading breadcrumbs:",V),$([{id:null,name:"All Files"}])}},ce=async C=>{try{s({title:"Starting download...",description:`Preparing ${C.name}`});const{data:V,error:Be}=await Ee.storage.from("user-files").download(C.file_path);if(Be)throw Be;const ke=URL.createObjectURL(V),ye=document.createElement("a");ye.href=ke,ye.download=C.name,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(ke),s({title:"Download started",description:`Downloading ${C.name}`})}catch(V){s({title:"Download failed",description:V.message,variant:"destructive"})}},X=async C=>{try{const{error:V}=await Ee.from("files").update({is_deleted:!0,deleted_at:new Date().toISOString()}).eq("id",C);if(V)throw V;s({title:"File moved to trash",description:"File can be permanently deleted from trash."}),T(),r()}catch(V){s({title:"Delete failed",description:V.message,variant:"destructive"})}},re=async C=>{try{const{error:V}=await Ee.from("folders").delete().eq("id",C);if(V)throw V;s({title:"Folder deleted",description:"Folder has been permanently deleted"}),T()}catch(V){s({title:"Delete failed",description:V.message,variant:"destructive"})}},se=C=>{y({open:!0,file:C}),x(C.name)},ve=async()=>{if(!(!p.file||!w.trim()))try{const{error:C}=await Ee.from("files").update({name:w.trim()}).eq("id",p.file.id);if(C)throw C;s({title:"File renamed",description:`File renamed to ${w}`}),y({open:!1,file:null}),T()}catch(C){s({title:"Rename failed",description:C.message,variant:"destructive"})}},Ce=C=>{v({open:!0,folder:C}),_(C.name)},K=async()=>{if(!(!g.folder||!b.trim()))try{const{error:C}=await Ee.from("folders").update({name:b.trim()}).eq("id",g.folder.id);if(C)throw C;s({title:"Folder renamed",description:`Folder renamed to ${b}`}),v({open:!1,folder:null}),T()}catch(C){s({title:"Rename failed",description:C.message,variant:"destructive"})}},Ue=async C=>{try{const V=crypto.randomUUID(),{data:Be,error:ke}=await Ee.from("share_links").insert({file_id:C.id,token:V,created_by:n.id}).select().single();if(ke)throw ke;const ye=`${window.location.origin}/share/${V}`;P(ye),S({open:!0,file:C}),W(!1)}catch(V){s({title:"Share failed",description:V.message,variant:"destructive"})}},pt=()=>{navigator.clipboard.writeText(k),W(!0),s({title:"Link copied",description:"Share link copied to clipboard"}),setTimeout(()=>W(!1),2e3)},Ke=(C,V)=>{N({open:!0,item:C,type:V})},mt=async()=>{if(!(!U.item||!U.type))try{U.type==="file"?await X(U.item.id):await re(U.item.id),N({open:!1,item:null,type:null})}catch(C){s({title:"Delete failed",description:C.message,variant:"destructive"})}},_t=async C=>{if(!C.file_type.startsWith("image/")){ce(C);return}try{const{data:V}=await Ee.storage.from("user-files").createSignedUrl(C.file_path,60);V&&(B(V.signedUrl),j({open:!0,file:C}))}catch(V){s({title:"Preview failed",description:V.message,variant:"destructive"})}},it=C=>C.startsWith("image/")?d.jsx(wm,{className:"h-6 w-6 text-green-500"}):d.jsx($o,{className:"h-6 w-6 text-blue-500"}),On=C=>{if(C===0)return"0 Bytes";const V=1024,Be=["Bytes","KB","MB","GB"],ke=Math.floor(Math.log(C)/Math.log(V));return Math.round(C/Math.pow(V,ke)*100)/100+" "+Be[ke]},cr=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Hr=C=>C.startsWith("image/")?"Image":C.startsWith("video/")?"Video":C.startsWith("audio/")?"Audio":C==="application/pdf"?"PDF":C.includes("document")||C.includes("word")?"Document":C.includes("spreadsheet")||C.includes("excel")?"Spreadsheet":C.includes("presentation")||C.includes("powerpoint")?"Presentation":"File";return c?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>e(null),className:"h-8 px-2",children:d.jsx(ym,{className:"h-4 w-4"})}),Y.map((C,V)=>d.jsxs("div",{className:"flex items-center gap-2",children:[V>0&&d.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("button",{onClick:()=>e(C.id),className:`hover:text-foreground transition-colors ${V===Y.length-1?"text-foreground font-medium":"text-muted-foreground"}`,children:C.name})]},C.id))]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," folders, ",o.length," files"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ue,{variant:h==="grid"?"default":"outline",size:"icon",onClick:()=>m("grid"),children:d.jsx(vm,{className:"h-4 w-4"})}),d.jsx(ue,{variant:h==="list"?"default":"outline",size:"icon",onClick:()=>m("list"),children:d.jsx(bm,{className:"h-4 w-4"})})]})]})]}),a.length===0&&o.length===0&&d.jsx(It,{className:"shadow-soft",children:d.jsxs(Dt,{className:"py-12 text-center",children:[d.jsx($o,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No files yet"}),d.jsx("p",{className:"text-muted-foreground",children:"Upload your first file to get started"})]})}),h==="grid"&&(a.length>0||o.length>0)&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[a.map(C=>d.jsx(It,{className:"cursor-pointer hover:shadow-medium transition-smooth group",onClick:()=>e(C.id),children:d.jsxs(Dt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-950",children:d.jsx(ja,{className:"h-6 w-6 text-blue-600"})}),d.jsxs(es,{children:[d.jsx(ts,{asChild:!0,onClick:V=>V.stopPropagation(),children:d.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Dn,{className:"h-4 w-4"})})}),d.jsxs(en,{align:"end",children:[d.jsxs(Ae,{onClick:()=>Ce(C),children:[d.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Rename"]}),d.jsxs(Ae,{onClick:()=>Ke(C,"folder"),className:"text-destructive",children:[d.jsx($n,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),d.jsx("h3",{className:"font-medium truncate",children:C.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:cr(C.created_at)})]})},C.id)),o.map(C=>d.jsx(It,{className:"hover:shadow-medium transition-smooth cursor-pointer group",onClick:()=>_t(C),children:d.jsxs(Dt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-slate-50 dark:bg-slate-800",children:it(C.file_type)}),d.jsxs(es,{children:[d.jsx(ts,{asChild:!0,onClick:V=>V.stopPropagation(),children:d.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Dn,{className:"h-4 w-4"})})}),d.jsxs(en,{align:"end",children:[d.jsxs(Ae,{onClick:()=>ce(C),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Download"]}),d.jsxs(Ae,{onClick:()=>Ue(C),children:[d.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Share"]}),d.jsxs(Ae,{onClick:()=>se(C),children:[d.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Rename"]}),d.jsxs(Ae,{onClick:()=>Ke(C,"file"),className:"text-destructive",children:[d.jsx($n,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),d.jsx("h3",{className:"font-medium truncate mb-2",children:C.name}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(mc,{variant:"secondary",className:"text-xs",children:Hr(C.file_type)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:On(C.file_size)})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:cr(C.created_at)})]})},C.id))]}),h==="list"&&(a.length>0||o.length>0)&&d.jsx(It,{className:"shadow-soft",children:d.jsx(Dt,{className:"p-0",children:d.jsxs("div",{className:"divide-y",children:[a.map(C=>d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-secondary/50 cursor-pointer transition-smooth group",onClick:()=>e(C.id),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ja,{className:"h-5 w-5 text-blue-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:C.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Folder  ",cr(C.created_at)]})]})]}),d.jsxs(es,{children:[d.jsx(ts,{asChild:!0,onClick:V=>V.stopPropagation(),children:d.jsx(ue,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Dn,{className:"h-4 w-4"})})}),d.jsxs(en,{align:"end",children:[d.jsxs(Ae,{onClick:()=>Ce(C),children:[d.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Rename"]}),d.jsxs(Ae,{onClick:()=>Ke(C,"folder"),className:"text-destructive",children:[d.jsx($n,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},C.id)),o.map(C=>d.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-secondary/50 transition-smooth cursor-pointer group",onClick:()=>_t(C),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[it(C.file_type),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium truncate",children:C.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(mc,{variant:"secondary",className:"text-xs",children:Hr(C.file_type)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[On(C.file_size),"  ",cr(C.created_at)]})]})]})]}),d.jsxs(es,{children:[d.jsx(ts,{asChild:!0,onClick:V=>V.stopPropagation(),children:d.jsx(ue,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Dn,{className:"h-4 w-4"})})}),d.jsxs(en,{align:"end",children:[d.jsxs(Ae,{onClick:()=>ce(C),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Download"]}),d.jsxs(Ae,{onClick:()=>Ue(C),children:[d.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Share"]}),d.jsxs(Ae,{onClick:()=>se(C),children:[d.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Rename"]}),d.jsxs(Ae,{onClick:()=>Ke(C,"file"),className:"text-destructive",children:[d.jsx($n,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},C.id))]})})}),d.jsx(Cr,{open:p.open,onOpenChange:C=>y({open:C,file:null}),children:d.jsxs(Jt,{children:[d.jsxs(Yt,{children:[d.jsx(Xt,{children:"Rename File"}),d.jsxs(kr,{children:["Enter a new name for ",p.file?.name]})]}),d.jsx("div",{className:"space-y-4 py-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"name",children:"File Name"}),d.jsx(at,{id:"name",value:w,onChange:C=>x(C.target.value),onKeyDown:C=>C.key==="Enter"&&ve(),placeholder:"Enter new file name"})]})}),d.jsxs(Qt,{children:[d.jsx(ue,{variant:"outline",onClick:()=>y({open:!1,file:null}),children:"Cancel"}),d.jsx(ue,{onClick:ve,children:"Rename"})]})]})}),d.jsx(Cr,{open:g.open,onOpenChange:C=>v({open:C,folder:null}),children:d.jsxs(Jt,{children:[d.jsxs(Yt,{children:[d.jsx(Xt,{children:"Rename Folder"}),d.jsxs(kr,{children:["Enter a new name for ",g.folder?.name]})]}),d.jsx("div",{className:"space-y-4 py-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"folder-name",children:"Folder Name"}),d.jsx(at,{id:"folder-name",value:b,onChange:C=>_(C.target.value),onKeyDown:C=>C.key==="Enter"&&K(),placeholder:"Enter new folder name"})]})}),d.jsxs(Qt,{children:[d.jsx(ue,{variant:"outline",onClick:()=>v({open:!1,folder:null}),children:"Cancel"}),d.jsx(ue,{onClick:K,children:"Rename"})]})]})}),d.jsx(Cr,{open:E.open,onOpenChange:C=>S({open:C,file:null}),children:d.jsxs(Jt,{children:[d.jsxs(Yt,{children:[d.jsx(Xt,{children:"Share File"}),d.jsxs(kr,{children:["Anyone with this link can download ",E.file?.name]})]}),d.jsx("div",{className:"space-y-4 py-4",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(at,{value:k,readOnly:!0}),d.jsx(ue,{onClick:pt,variant:"outline",size:"icon",children:A?d.jsx(Hc,{className:"h-4 w-4"}):d.jsx(mm,{className:"h-4 w-4"})})]})}),d.jsx(Qt,{children:d.jsx(ue,{onClick:()=>S({open:!1,file:null}),children:"Done"})})]})}),d.jsx(Cr,{open:U.open,onOpenChange:C=>N({open:C,item:null,type:null}),children:d.jsxs(Jt,{children:[d.jsxs(Yt,{children:[d.jsxs(Xt,{children:["Delete ",U.type==="file"?"File":"Folder"]}),d.jsxs(kr,{children:['Are you sure you want to delete "',U.item?.name,'"?',U.type==="folder"&&" This will also delete all contents inside the folder.",U.type==="file"&&" This action cannot be undone."]})]}),d.jsxs(Qt,{children:[d.jsx(ue,{variant:"outline",onClick:()=>N({open:!1,item:null,type:null}),children:"Cancel"}),d.jsx(ue,{variant:"destructive",onClick:mt,children:"Delete"})]})]})}),d.jsx(Cr,{open:z.open,onOpenChange:C=>j({open:C,file:null}),children:d.jsxs(Jt,{className:"max-w-4xl",children:[d.jsx(Yt,{children:d.jsx(Xt,{children:z.file?.name})}),d.jsx("div",{className:"flex justify-center",children:z.file?.file_type.startsWith("image/")&&H&&d.jsx("img",{src:H,alt:z.file.name,className:"max-h-[70vh] max-w-full object-contain rounded-lg"})}),d.jsxs(Qt,{className:"flex gap-2",children:[d.jsx(ue,{variant:"outline",onClick:()=>j({open:!1,file:null}),children:"Close"}),d.jsx(ue,{onClick:()=>z.file&&ce(z.file),children:"Download"})]})]})})]})},WS=()=>{const{user:t,signOut:e}=Ks(),{toast:r}=xn(),[n,s]=f.useState(null),[o,i]=f.useState(!1),[a,l]=f.useState(null),[c,u]=f.useState(!1),[h,m]=f.useState(""),[p,y]=f.useState(0);f.useEffect(()=>{g()},[t,p]);const g=async()=>{if(t)try{const{data:_,error:E}=await Ee.from("profiles").select("storage_used, storage_limit, full_name").eq("id",t.id).single();E?console.error("Profile load error:",E):s(_)}catch(_){console.error("Profile load error:",_)}},v=async()=>{if(!(!t||!h.trim()))try{const{error:_}=await Ee.from("folders").insert({name:h.trim(),parent_id:a,owner_id:t.id});if(_)throw _;r({title:"Folder created",description:`Folder "${h}" has been created`}),u(!1),m(""),w()}catch(_){r({title:"Failed to create folder",description:_.message,variant:"destructive"})}},w=()=>{console.log("Refreshing file list..."),y(_=>_+1)},x=n?n.storage_used/n.storage_limit*100:0,b=_=>{if(_===0)return"0 Bytes";const E=1024,S=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(_)/Math.log(E));return Math.round(_/Math.pow(E,k)*100)/100+" "+S[k]};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"border-b bg-card shadow-soft",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-gradient-primary",children:d.jsx(Oa,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Scalable File Management System"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome, ",n?.full_name||t?.email]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ue,{variant:"outline",size:"icon",onClick:w,title:"Refresh files",children:d.jsx(_m,{className:"h-4 w-4"})}),d.jsxs(ue,{variant:"outline",onClick:e,children:[d.jsx(xm,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})})}),d.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[d.jsxs(It,{className:"shadow-medium",children:[d.jsxs(Hs,{children:[d.jsxs(Gs,{className:"flex items-center gap-2",children:[d.jsx(Oa,{className:"h-5 w-5 text-primary"}),"Storage Usage"]}),d.jsx(Zs,{children:n?`${b(n.storage_used)} of ${b(n.storage_limit)} used`:"Loading..."})]}),d.jsxs(Dt,{children:[d.jsx(ta,{value:x,className:"h-2"}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[x.toFixed(1),"% of your storage is in use"]})]})]}),d.jsxs("div",{className:"flex gap-3 flex-wrap",children:[d.jsxs(ue,{onClick:()=>i(!0),className:"gap-2",children:[d.jsx(Zc,{className:"h-4 w-4"}),"Upload Files"]}),d.jsxs(ue,{onClick:()=>u(!0),variant:"outline",className:"gap-2",children:[d.jsx(gm,{className:"h-4 w-4"}),"New Folder"]})]}),o&&d.jsx(x_,{currentFolder:a,onUploadComplete:()=>{console.log("Upload complete, refreshing..."),w(),i(!1)},onClose:()=>i(!1)}),d.jsx(qS,{currentFolder:a,onFolderChange:l,onRefresh:w},p),d.jsx(Cr,{open:c,onOpenChange:u,children:d.jsxs(Jt,{children:[d.jsxs(Yt,{children:[d.jsx(Xt,{children:"Create New Folder"}),d.jsx(kr,{children:"Enter a name for your new folder"})]}),d.jsx("div",{className:"space-y-4 py-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(yt,{htmlFor:"folder-name",children:"Folder Name"}),d.jsx(at,{id:"folder-name",value:h,onChange:_=>m(_.target.value),onKeyDown:_=>_.key==="Enter"&&v(),placeholder:"Enter folder name"})]})}),d.jsxs(Qt,{children:[d.jsx(ue,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),d.jsx(ue,{onClick:v,children:"Create Folder"})]})]})})]})]})},zS=()=>{const t=Li();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},KS=new Hy,HS=()=>d.jsx(Zy,{client:KS,children:d.jsxs(Ey,{children:[d.jsx(og,{}),d.jsx($g,{}),d.jsx(Ww,{children:d.jsx(yx,{children:d.jsxs(Bw,{children:[d.jsx(os,{path:"/auth",element:d.jsx(f_,{})}),d.jsx(os,{path:"/",element:d.jsx(wx,{children:d.jsx(WS,{})})}),d.jsx(os,{path:"*",element:d.jsx(zS,{})})]})})})]})});up.createRoot(document.getElementById("root")).render(d.jsx(HS,{}));
